var Pe=Object.defineProperty;var Me=(r,t,e)=>t in r?Pe(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var F=(r,t,e)=>Me(r,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function e(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=e(i);fetch(i.href,n)}})();var Ut={},mt={},yt=34,G=10,St=13;function he(r){return new Function("d","return {"+r.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function He(r,t){var e=he(r);return function(o,i){return t(e(o),i,r)}}function Ft(r){var t=Object.create(null),e=[];return r.forEach(function(o){for(var i in o)i in t||e.push(t[i]=i)}),e}function y(r,t){var e=r+"",o=e.length;return o<t?new Array(t-o+1).join(0)+e:e}function De(r){return r<0?"-"+y(-r,6):r>9999?"+"+y(r,6):y(r,4)}function Le(r){var t=r.getUTCHours(),e=r.getUTCMinutes(),o=r.getUTCSeconds(),i=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":De(r.getUTCFullYear())+"-"+y(r.getUTCMonth()+1,2)+"-"+y(r.getUTCDate(),2)+(i?"T"+y(t,2)+":"+y(e,2)+":"+y(o,2)+"."+y(i,3)+"Z":o?"T"+y(t,2)+":"+y(e,2)+":"+y(o,2)+"Z":e||t?"T"+y(t,2)+":"+y(e,2)+"Z":"")}function Re(r){var t=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function o(l,c){var g,f,m=i(l,function(P,A){if(g)return g(P,A-1);f=P,g=c?He(P,c):he(P)});return m.columns=f||[],m}function i(l,c){var g=[],f=l.length,m=0,P=0,A,gt=f<=0,M=!1;l.charCodeAt(f-1)===G&&--f,l.charCodeAt(f-1)===St&&--f;function Ot(){if(gt)return mt;if(M)return M=!1,Ut;var it,nt=m,U;if(l.charCodeAt(nt)===yt){for(;m++<f&&l.charCodeAt(m)!==yt||l.charCodeAt(++m)===yt;);return(it=m)>=f?gt=!0:(U=l.charCodeAt(m++))===G?M=!0:U===St&&(M=!0,l.charCodeAt(m)===G&&++m),l.slice(nt+1,it-1).replace(/""/g,'"')}for(;m<f;){if((U=l.charCodeAt(it=m++))===G)M=!0;else if(U===St)M=!0,l.charCodeAt(m)===G&&++m;else if(U!==e)continue;return l.slice(nt,it)}return gt=!0,l.slice(nt,f)}for(;(A=Ot())!==mt;){for(var rt=[];A!==Ut&&A!==mt;)rt.push(A),A=Ot();c&&(rt=c(rt,P++))==null||g.push(rt)}return g}function n(l,c){return l.map(function(g){return c.map(function(f){return u(g[f])}).join(r)})}function s(l,c){return c==null&&(c=Ft(l)),[c.map(u).join(r)].concat(n(l,c)).join(`
`)}function a(l,c){return c==null&&(c=Ft(l)),n(l,c).join(`
`)}function h(l){return l.map(d).join(`
`)}function d(l){return l.map(u).join(r)}function u(l){return l==null?"":l instanceof Date?Le(l):t.test(l+="")?'"'+l.replace(/"/g,'""')+'"':l}return{parse:o,parseRows:i,format:s,formatBody:a,formatRows:h,formatRow:d,formatValue:u}}var Te=Re(","),xe=Te.parse;class R{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const e=this._partials;let o=0;for(let i=0;i<this._n&&i<32;i++){const n=e[i],s=t+n,a=Math.abs(t)<Math.abs(n)?t-(s-n):n-(s-t);a&&(e[o++]=a),t=s}return e[o]=t,this._n=o+1,this}valueOf(){const t=this._partials;let e=this._n,o,i,n,s=0;if(e>0){for(s=t[--e];e>0&&(o=s,i=t[--e],s=o+i,n=i-(s-o),!n););e>0&&(n<0&&t[e-1]<0||n>0&&t[e-1]>0)&&(i=n*2,o=s+i,i==o-s&&(s=o))}return s}}var Oe=Math.PI,Ue=Oe*2,Fe=Math.abs,Rt=Math.sqrt;function w(){}function at(r,t){r&&It.hasOwnProperty(r.type)&&It[r.type](r,t)}var Gt={Feature:function(r,t){at(r.geometry,t)},FeatureCollection:function(r,t){for(var e=r.features,o=-1,i=e.length;++o<i;)at(e[o].geometry,t)}},It={Sphere:function(r,t){t.sphere()},Point:function(r,t){r=r.coordinates,t.point(r[0],r[1],r[2])},MultiPoint:function(r,t){for(var e=r.coordinates,o=-1,i=e.length;++o<i;)r=e[o],t.point(r[0],r[1],r[2])},LineString:function(r,t){Ct(r.coordinates,t,0)},MultiLineString:function(r,t){for(var e=r.coordinates,o=-1,i=e.length;++o<i;)Ct(e[o],t,0)},Polygon:function(r,t){jt(r.coordinates,t)},MultiPolygon:function(r,t){for(var e=r.coordinates,o=-1,i=e.length;++o<i;)jt(e[o],t)},GeometryCollection:function(r,t){for(var e=r.geometries,o=-1,i=e.length;++o<i;)at(e[o],t)}};function Ct(r,t,e){var o=-1,i=r.length-e,n;for(t.lineStart();++o<i;)n=r[o],t.point(n[0],n[1],n[2]);t.lineEnd()}function jt(r,t){var e=-1,o=r.length;for(t.polygonStart();++e<o;)Ct(r[e],t,1);t.polygonEnd()}function I(r,t){r&&Gt.hasOwnProperty(r.type)?Gt[r.type](r,t):at(r,t)}const Ge=r=>r;var wt=new R,At=new R,de,ue,Nt,Bt,E={point:w,lineStart:w,lineEnd:w,polygonStart:function(){E.lineStart=Ie,E.lineEnd=Ve},polygonEnd:function(){E.lineStart=E.lineEnd=E.point=w,wt.add(Fe(At)),At=new R},result:function(){var r=wt/2;return wt=new R,r}};function Ie(){E.point=je}function je(r,t){E.point=ce,de=Nt=r,ue=Bt=t}function ce(r,t){At.add(Bt*r-Nt*t),Nt=r,Bt=t}function Ve(){ce(de,ue)}var T=1/0,lt=T,Z=-T,ht=Z,Vt={point:Ke,lineStart:w,lineEnd:w,polygonStart:w,polygonEnd:w,result:function(){var r=[[T,lt],[Z,ht]];return Z=ht=-(lt=T=1/0),r}};function Ke(r,t){r<T&&(T=r),r>Z&&(Z=r),t<lt&&(lt=t),t>ht&&(ht=t)}var Wt=0,kt=0,V=0,dt=0,ut=0,D=0,Pt=0,Mt=0,K=0,pe,fe,b,v,S={point:W,lineStart:Kt,lineEnd:zt,polygonStart:function(){S.lineStart=Ye,S.lineEnd=Je},polygonEnd:function(){S.point=W,S.lineStart=Kt,S.lineEnd=zt},result:function(){var r=K?[Pt/K,Mt/K]:D?[dt/D,ut/D]:V?[Wt/V,kt/V]:[NaN,NaN];return Wt=kt=V=dt=ut=D=Pt=Mt=K=0,r}};function W(r,t){Wt+=r,kt+=t,++V}function Kt(){S.point=ze}function ze(r,t){S.point=qe,W(b=r,v=t)}function qe(r,t){var e=r-b,o=t-v,i=Rt(e*e+o*o);dt+=i*(b+r)/2,ut+=i*(v+t)/2,D+=i,W(b=r,v=t)}function zt(){S.point=W}function Ye(){S.point=Ze}function Je(){ge(pe,fe)}function Ze(r,t){S.point=ge,W(pe=b=r,fe=v=t)}function ge(r,t){var e=r-b,o=t-v,i=Rt(e*e+o*o);dt+=i*(b+r)/2,ut+=i*(v+t)/2,D+=i,i=v*r-b*t,Pt+=i*(b+r),Mt+=i*(v+t),K+=i*3,W(b=r,v=t)}function me(r){this._context=r}me.prototype={_radius:4.5,pointRadius:function(r){return this._radius=r,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(r,t){switch(this._point){case 0:{this._context.moveTo(r,t),this._point=1;break}case 1:{this._context.lineTo(r,t);break}default:{this._context.moveTo(r+this._radius,t),this._context.arc(r,t,this._radius,0,Ue);break}}},result:w};var Ht=new R,$t,ye,Se,z,q,X={point:w,lineStart:function(){X.point=Xe},lineEnd:function(){$t&&we(ye,Se),X.point=w},polygonStart:function(){$t=!0},polygonEnd:function(){$t=null},result:function(){var r=+Ht;return Ht=new R,r}};function Xe(r,t){X.point=we,ye=z=r,Se=q=t}function we(r,t){z-=r,q-=t,Ht.add(Rt(z*z+q*q)),z=r,q=t}let qt,ct,Yt,Jt;class Zt{constructor(t){this._append=t==null?$e:Qe(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,e){switch(this._point){case 0:{this._append`M${t},${e}`,this._point=1;break}case 1:{this._append`L${t},${e}`;break}default:{if(this._append`M${t},${e}`,this._radius!==Yt||this._append!==ct){const o=this._radius,i=this._;this._="",this._append`m0,${o}a${o},${o} 0 1,1 0,${-2*o}a${o},${o} 0 1,1 0,${2*o}z`,Yt=o,ct=this._append,Jt=this._,this._=i}this._+=Jt;break}}}result(){const t=this._;return this._="",t.length?t:null}}function $e(r){let t=1;this._+=r[0];for(const e=r.length;t<e;++t)this._+=arguments[t]+r[t]}function Qe(r){const t=Math.floor(r);if(!(t>=0))throw new RangeError(`invalid digits: ${r}`);if(t>15)return $e;if(t!==qt){const e=10**t;qt=t,ct=function(i){let n=1;this._+=i[0];for(const s=i.length;n<s;++n)this._+=Math.round(arguments[n]*e)/e+i[n]}}return ct}function to(r,t){let e=3,o=4.5,i,n;function s(a){return a&&(typeof o=="function"&&n.pointRadius(+o.apply(this,arguments)),I(a,i(n))),n.result()}return s.area=function(a){return I(a,i(E)),E.result()},s.measure=function(a){return I(a,i(X)),X.result()},s.bounds=function(a){return I(a,i(Vt)),Vt.result()},s.centroid=function(a){return I(a,i(S)),S.result()},s.projection=function(a){return arguments.length?(i=a==null?(r=null,Ge):(r=a).stream,s):r},s.context=function(a){return arguments.length?(n=a==null?(t=null,new Zt(e)):new me(t=a),typeof o!="function"&&n.pointRadius(o),s):t},s.pointRadius=function(a){return arguments.length?(o=typeof a=="function"?a:(n.pointRadius(+a),+a),s):o},s.digits=function(a){if(!arguments.length)return e;if(a==null)e=null;else{const h=Math.floor(a);if(!(h>=0))throw new RangeError(`invalid digits: ${a}`);e=h}return t===null&&(n=new Zt(e)),s},s.projection(r).digits(e).context(t)}function eo(r){return{stream:oo(r)}}function oo(r){return function(t){var e=new Dt;for(var o in r)e[o]=r[o];return e.stream=t,e}}function Dt(){}Dt.prototype={constructor:Dt,point:function(r,t){this.stream.point(r,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const st=globalThis,Tt=st.ShadowRoot&&(st.ShadyCSS===void 0||st.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,xt=Symbol(),Xt=new WeakMap;let be=class{constructor(t,e,o){if(this._$cssResult$=!0,o!==xt)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(Tt&&t===void 0){const o=e!==void 0&&e.length===1;o&&(t=Xt.get(e)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),o&&Xt.set(e,t))}return t}toString(){return this.cssText}};const ro=r=>new be(typeof r=="string"?r:r+"",void 0,xt),ve=(r,...t)=>{const e=r.length===1?r[0]:t.reduce((o,i,n)=>o+(s=>{if(s._$cssResult$===!0)return s.cssText;if(typeof s=="number")return s;throw Error("Value passed to 'css' function must be a 'css' function result: "+s+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+r[n+1],r[0]);return new be(e,r,xt)},io=(r,t)=>{if(Tt)r.adoptedStyleSheets=t.map(e=>e instanceof CSSStyleSheet?e:e.styleSheet);else for(const e of t){const o=document.createElement("style"),i=st.litNonce;i!==void 0&&o.setAttribute("nonce",i),o.textContent=e.cssText,r.appendChild(o)}},Qt=Tt?r=>r:r=>r instanceof CSSStyleSheet?(t=>{let e="";for(const o of t.cssRules)e+=o.cssText;return ro(e)})(r):r;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:no,defineProperty:so,getOwnPropertyDescriptor:ao,getOwnPropertyNames:lo,getOwnPropertySymbols:ho,getPrototypeOf:uo}=Object,C=globalThis,te=C.trustedTypes,co=te?te.emptyScript:"",bt=C.reactiveElementPolyfillSupport,Y=(r,t)=>r,Lt={toAttribute(r,t){switch(t){case Boolean:r=r?co:null;break;case Object:case Array:r=r==null?r:JSON.stringify(r)}return r},fromAttribute(r,t){let e=r;switch(t){case Boolean:e=r!==null;break;case Number:e=r===null?null:Number(r);break;case Object:case Array:try{e=JSON.parse(r)}catch{e=null}}return e}},Ee=(r,t)=>!no(r,t),ee={attribute:!0,type:String,converter:Lt,reflect:!1,hasChanged:Ee};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),C.litPropertyMetadata??(C.litPropertyMetadata=new WeakMap);let H=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??(this.l=[])).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=ee){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const o=Symbol(),i=this.getPropertyDescriptor(t,o,e);i!==void 0&&so(this.prototype,t,i)}}static getPropertyDescriptor(t,e,o){const{get:i,set:n}=ao(this.prototype,t)??{get(){return this[e]},set(s){this[e]=s}};return{get(){return i==null?void 0:i.call(this)},set(s){const a=i==null?void 0:i.call(this);n.call(this,s),this.requestUpdate(t,a,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??ee}static _$Ei(){if(this.hasOwnProperty(Y("elementProperties")))return;const t=uo(this);t.finalize(),t.l!==void 0&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(Y("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Y("properties"))){const e=this.properties,o=[...lo(e),...ho(e)];for(const i of o)this.createProperty(i,e[i])}const t=this[Symbol.metadata];if(t!==null){const e=litPropertyMetadata.get(t);if(e!==void 0)for(const[o,i]of e)this.elementProperties.set(o,i)}this._$Eh=new Map;for(const[e,o]of this.elementProperties){const i=this._$Eu(e,o);i!==void 0&&this._$Eh.set(i,e)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const o=new Set(t.flat(1/0).reverse());for(const i of o)e.unshift(Qt(i))}else t!==void 0&&e.push(Qt(t));return e}static _$Eu(t,e){const o=e.attribute;return o===!1?void 0:typeof o=="string"?o:typeof t=="string"?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var t;this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),(t=this.constructor.l)==null||t.forEach(e=>e(this))}addController(t){var e;(this._$EO??(this._$EO=new Set)).add(t),this.renderRoot!==void 0&&this.isConnected&&((e=t.hostConnected)==null||e.call(t))}removeController(t){var e;(e=this._$EO)==null||e.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const o of e.keys())this.hasOwnProperty(o)&&(t.set(o,this[o]),delete this[o]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return io(t,this.constructor.elementStyles),t}connectedCallback(){var t;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$EO)==null||t.forEach(e=>{var o;return(o=e.hostConnected)==null?void 0:o.call(e)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$EO)==null||t.forEach(e=>{var o;return(o=e.hostDisconnected)==null?void 0:o.call(e)})}attributeChangedCallback(t,e,o){this._$AK(t,o)}_$EC(t,e){var n;const o=this.constructor.elementProperties.get(t),i=this.constructor._$Eu(t,o);if(i!==void 0&&o.reflect===!0){const s=(((n=o.converter)==null?void 0:n.toAttribute)!==void 0?o.converter:Lt).toAttribute(e,o.type);this._$Em=t,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(t,e){var n;const o=this.constructor,i=o._$Eh.get(t);if(i!==void 0&&this._$Em!==i){const s=o.getPropertyOptions(i),a=typeof s.converter=="function"?{fromAttribute:s.converter}:((n=s.converter)==null?void 0:n.fromAttribute)!==void 0?s.converter:Lt;this._$Em=i,this[i]=a.fromAttribute(e,s.type),this._$Em=null}}requestUpdate(t,e,o){if(t!==void 0){if(o??(o=this.constructor.getPropertyOptions(t)),!(o.hasChanged??Ee)(this[t],e))return;this.P(t,e,o)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(t,e,o){this._$AL.has(t)||this._$AL.set(t,e),o.reflect===!0&&this._$Em!==t&&(this._$Ej??(this._$Ej=new Set)).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(e){Promise.reject(e)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var o;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[n,s]of this._$Ep)this[n]=s;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[n,s]of i)s.wrapped!==!0||this._$AL.has(n)||this[n]===void 0||this.P(n,this[n],s)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),(o=this._$EO)==null||o.forEach(i=>{var n;return(n=i.hostUpdate)==null?void 0:n.call(i)}),this.update(e)):this._$EU()}catch(i){throw t=!1,this._$EU(),i}t&&this._$AE(e)}willUpdate(t){}_$AE(t){var e;(e=this._$EO)==null||e.forEach(o=>{var i;return(i=o.hostUpdated)==null?void 0:i.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&(this._$Ej=this._$Ej.forEach(e=>this._$EC(e,this[e]))),this._$EU()}updated(t){}firstUpdated(t){}};H.elementStyles=[],H.shadowRootOptions={mode:"open"},H[Y("elementProperties")]=new Map,H[Y("finalized")]=new Map,bt==null||bt({ReactiveElement:H}),(C.reactiveElementVersions??(C.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const J=globalThis,pt=J.trustedTypes,oe=pt?pt.createPolicy("lit-html",{createHTML:r=>r}):void 0,_e="$lit$",_=`lit$${Math.random().toFixed(9).slice(2)}$`,Ce="?"+_,po=`<${Ce}>`,k=document,Q=()=>k.createComment(""),tt=r=>r===null||typeof r!="object"&&typeof r!="function",Ae=Array.isArray,fo=r=>Ae(r)||typeof(r==null?void 0:r[Symbol.iterator])=="function",vt=`[ 	
\f\r]`,j=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,re=/-->/g,ie=/>/g,N=RegExp(`>|${vt}(?:([^\\s"'>=/]+)(${vt}*=${vt}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),ne=/'/g,se=/"/g,Ne=/^(?:script|style|textarea|title)$/i,Be=r=>(t,...e)=>({_$litType$:r,strings:t,values:e}),$=Be(1),go=Be(2),x=Symbol.for("lit-noChange"),p=Symbol.for("lit-nothing"),ae=new WeakMap,B=k.createTreeWalker(k,129);function We(r,t){if(!Array.isArray(r)||!r.hasOwnProperty("raw"))throw Error("invalid template strings array");return oe!==void 0?oe.createHTML(t):t}const mo=(r,t)=>{const e=r.length-1,o=[];let i,n=t===2?"<svg>":"",s=j;for(let a=0;a<e;a++){const h=r[a];let d,u,l=-1,c=0;for(;c<h.length&&(s.lastIndex=c,u=s.exec(h),u!==null);)c=s.lastIndex,s===j?u[1]==="!--"?s=re:u[1]!==void 0?s=ie:u[2]!==void 0?(Ne.test(u[2])&&(i=RegExp("</"+u[2],"g")),s=N):u[3]!==void 0&&(s=N):s===N?u[0]===">"?(s=i??j,l=-1):u[1]===void 0?l=-2:(l=s.lastIndex-u[2].length,d=u[1],s=u[3]===void 0?N:u[3]==='"'?se:ne):s===se||s===ne?s=N:s===re||s===ie?s=j:(s=N,i=void 0);const g=s===N&&r[a+1].startsWith("/>")?" ":"";n+=s===j?h+po:l>=0?(o.push(d),h.slice(0,l)+_e+h.slice(l)+_+g):h+_+(l===-2?a:g)}return[We(r,n+(r[e]||"<?>")+(t===2?"</svg>":"")),o]};class et{constructor({strings:t,_$litType$:e},o){let i;this.parts=[];let n=0,s=0;const a=t.length-1,h=this.parts,[d,u]=mo(t,e);if(this.el=et.createElement(d,o),B.currentNode=this.el.content,e===2){const l=this.el.content.firstChild;l.replaceWith(...l.childNodes)}for(;(i=B.nextNode())!==null&&h.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const l of i.getAttributeNames())if(l.endsWith(_e)){const c=u[s++],g=i.getAttribute(l).split(_),f=/([.?@])?(.*)/.exec(c);h.push({type:1,index:n,name:f[2],strings:g,ctor:f[1]==="."?So:f[1]==="?"?wo:f[1]==="@"?$o:ft}),i.removeAttribute(l)}else l.startsWith(_)&&(h.push({type:6,index:n}),i.removeAttribute(l));if(Ne.test(i.tagName)){const l=i.textContent.split(_),c=l.length-1;if(c>0){i.textContent=pt?pt.emptyScript:"";for(let g=0;g<c;g++)i.append(l[g],Q()),B.nextNode(),h.push({type:2,index:++n});i.append(l[c],Q())}}}else if(i.nodeType===8)if(i.data===Ce)h.push({type:2,index:n});else{let l=-1;for(;(l=i.data.indexOf(_,l+1))!==-1;)h.push({type:7,index:n}),l+=_.length-1}n++}}static createElement(t,e){const o=k.createElement("template");return o.innerHTML=t,o}}function O(r,t,e=r,o){var s,a;if(t===x)return t;let i=o!==void 0?(s=e._$Co)==null?void 0:s[o]:e._$Cl;const n=tt(t)?void 0:t._$litDirective$;return(i==null?void 0:i.constructor)!==n&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),n===void 0?i=void 0:(i=new n(r),i._$AT(r,e,o)),o!==void 0?(e._$Co??(e._$Co=[]))[o]=i:e._$Cl=i),i!==void 0&&(t=O(r,i._$AS(r,t.values),i,o)),t}class yo{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:o}=this._$AD,i=((t==null?void 0:t.creationScope)??k).importNode(e,!0);B.currentNode=i;let n=B.nextNode(),s=0,a=0,h=o[0];for(;h!==void 0;){if(s===h.index){let d;h.type===2?d=new ot(n,n.nextSibling,this,t):h.type===1?d=new h.ctor(n,h.name,h.strings,this,t):h.type===6&&(d=new bo(n,this,t)),this._$AV.push(d),h=o[++a]}s!==(h==null?void 0:h.index)&&(n=B.nextNode(),s++)}return B.currentNode=k,i}p(t){let e=0;for(const o of this._$AV)o!==void 0&&(o.strings!==void 0?(o._$AI(t,o,e),e+=o.strings.length-2):o._$AI(t[e])),e++}}class ot{get _$AU(){var t;return((t=this._$AM)==null?void 0:t._$AU)??this._$Cv}constructor(t,e,o,i){this.type=2,this._$AH=p,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=o,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return e!==void 0&&(t==null?void 0:t.nodeType)===11&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=O(this,t,e),tt(t)?t===p||t==null||t===""?(this._$AH!==p&&this._$AR(),this._$AH=p):t!==this._$AH&&t!==x&&this._(t):t._$litType$!==void 0?this.$(t):t.nodeType!==void 0?this.T(t):fo(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==p&&tt(this._$AH)?this._$AA.nextSibling.data=t:this.T(k.createTextNode(t)),this._$AH=t}$(t){var n;const{values:e,_$litType$:o}=t,i=typeof o=="number"?this._$AC(t):(o.el===void 0&&(o.el=et.createElement(We(o.h,o.h[0]),this.options)),o);if(((n=this._$AH)==null?void 0:n._$AD)===i)this._$AH.p(e);else{const s=new yo(i,this),a=s.u(this.options);s.p(e),this.T(a),this._$AH=s}}_$AC(t){let e=ae.get(t.strings);return e===void 0&&ae.set(t.strings,e=new et(t)),e}k(t){Ae(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let o,i=0;for(const n of t)i===e.length?e.push(o=new ot(this.S(Q()),this.S(Q()),this,this.options)):o=e[i],o._$AI(n),i++;i<e.length&&(this._$AR(o&&o._$AB.nextSibling,i),e.length=i)}_$AR(t=this._$AA.nextSibling,e){var o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,e);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var e;this._$AM===void 0&&(this._$Cv=t,(e=this._$AP)==null||e.call(this,t))}}class ft{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,o,i,n){this.type=1,this._$AH=p,this._$AN=void 0,this.element=t,this.name=e,this._$AM=i,this.options=n,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=p}_$AI(t,e=this,o,i){const n=this.strings;let s=!1;if(n===void 0)t=O(this,t,e,0),s=!tt(t)||t!==this._$AH&&t!==x,s&&(this._$AH=t);else{const a=t;let h,d;for(t=n[0],h=0;h<n.length-1;h++)d=O(this,a[o+h],e,h),d===x&&(d=this._$AH[h]),s||(s=!tt(d)||d!==this._$AH[h]),d===p?t=p:t!==p&&(t+=(d??"")+n[h+1]),this._$AH[h]=d}s&&!i&&this.j(t)}j(t){t===p?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class So extends ft{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===p?void 0:t}}class wo extends ft{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==p)}}class $o extends ft{constructor(t,e,o,i,n){super(t,e,o,i,n),this.type=5}_$AI(t,e=this){if((t=O(this,t,e,0)??p)===x)return;const o=this._$AH,i=t===p&&o!==p||t.capture!==o.capture||t.once!==o.once||t.passive!==o.passive,n=t!==p&&(o===p||i);i&&this.element.removeEventListener(this.name,this,o),n&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e;typeof this._$AH=="function"?this._$AH.call(((e=this.options)==null?void 0:e.host)??this.element,t):this._$AH.handleEvent(t)}}class bo{constructor(t,e,o){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(t){O(this,t)}}const Et=J.litHtmlPolyfillSupport;Et==null||Et(et,ot),(J.litHtmlVersions??(J.litHtmlVersions=[])).push("3.1.4");const vo=(r,t,e)=>{const o=(e==null?void 0:e.renderBefore)??t;let i=o._$litPart$;if(i===void 0){const n=(e==null?void 0:e.renderBefore)??null;o._$litPart$=i=new ot(t.insertBefore(Q(),n),n,void 0,e??{})}return i._$AI(r),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class L extends H{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var e;const t=super.createRenderRoot();return(e=this.renderOptions).renderBefore??(e.renderBefore=t.firstChild),t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=vo(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)==null||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)==null||t.setConnected(!1)}render(){return x}}var le;L._$litElement$=!0,L.finalized=!0,(le=globalThis.litElementHydrateSupport)==null||le.call(globalThis,{LitElement:L});const _t=globalThis.litElementPolyfillSupport;_t==null||_t({LitElement:L});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.6");const ke=["Blyth & Ashington","Houghton & Sunderland South","Basildon & Billericay","Broxbourne","Sunderland Central","Swindon South","Cramlington & Killingworth","Washington & Gateshead South","Makerfield","Rutherglen","Tynemouth","Wigan","Newcastle upon Tyne Central & West","Newcastle upon Tyne East & Wallsend","Newcastle upon Tyne North","Barnsley North","Barnsley South","East Kilbride & Strathaven","Leigh & Atherton","Putney","Tooting","Hamilton & Clyde Valley","Harrogate & Knaresborough","Leicester South","Swindon North","Cambridgeshire North West","Cannock Chase","Castle Point","Darlington","Dunbartonshire West","Dundee Central","Essex North West","Gateshead Central & Whickham","Glenrothes & Mid Fife","Havant","Hexham","Leicester East","Lewisham East","Lewisham West & East Dulwich","Middlesbrough & Thornaby East","Middlesbrough South & East Cleveland","North Down","Peterborough","Redcar","South Shields","Strangford","Swansea West","Torbay","Tyrone West","Vale of Glamorgan","Warwickshire North & Bedworth","Gower","Knowsley","Leicester West","Paisley & Renfrewshire South","Rayleigh & Wickford","Arbroath & Broughty Ferry","Battersea","Blackburn","Caerphilly","Chorley","Clwyd North","Colchester","Durham North","Easington","Heywood & Middleton North","Jarrow & Gateshead East","Kilmarnock & Loudoun","Lewisham North","Newport West & Islwyn","Norwich South","Nottingham East","Nottingham South","Pendle & Clitheroe","Perth & Kinross-shire","Rochdale","Stratford-on-Avon","Aldershot","Bedfordshire Mid","Bolsover","Burnley","Dunstable & Leighton Buzzard","Folkestone & Hythe","Hampshire North East","Hertsmere","Paisley & Renfrewshire North","Sussex Weald","Aberdeen North","Aberdeen South","Airdrie & Shotts","Alloa & Grangemouth","Alyn & Deeside","Amber Valley","Antrim East","Bangor Aberconwy","Belfast East","Belfast North","Belfast West","Bexhill & Battle","Blackpool South","Bolton North East","Bolton South & Walkden","Bolton West","Bootle","Bracknell","Brent East","Brent West","Canterbury","Carlisle","Chelsea & Fulham","Cheltenham","Cheshire Mid","Chester North & Neston","Chingford & Woodford Green","Corby & East Northamptonshire","Cowdenbeath & Kirkcaldy","Crawley","Droitwich & Evesham","Dudley","Dwyfor Meirionnydd","Eastleigh","Edmonton & Winchmore Hill","Ellesmere Port & Bromborough","Enfield North","Epping Forest","Epsom & Ewell","Erewash","Fareham & Waterlooville","Fife North East","Forest of Dean","Fylde","Glasgow North","Gloucester","Great Grimsby & Cleethorpes","Great Yarmouth","Halesowen","Hamble Valley","Hammersmith & Chiswick","Harlow","Hinckley & Bosworth","Hull East","Huntingdon","Ipswich","Isle of Wight East","Isle of Wight West","Islington North","Islington South & Finsbury","Leyton & Wanstead","Lichfield","Londonderry East","Luton South & South Bedfordshire","Mansfield","Meriden & Solihull East","Midlothian","Mitcham & Morden","Na h-Eileanan an Iar","Newark","Newport East","Nuneaton","Oxford East","Pontypridd","Reading Central","Rhondda & Ogmore","Romford","Romsey & Southampton North","Runcorn & Helsby","Rushcliffe","Sefton Central","Shrewsbury","Smethwick","Solihull West & Shirley","South Ribble","Southend East & Rochford","Southend West & Leigh","Southgate & Wood Green","St Helens North","St Helens South & Whiston","Stevenage","Stockton West","Stourbridge","Telford","Thanet East","Tipton & Wednesbury","Torfaen","Ulster Mid","Walthamstow","Watford","West Bromwich","Whitehaven & Workington","Widnes & Halewood","Worcester","Wrekin, The","Wrexham","Ynys Mon","Bristol Central","Caerfyrddin","Eltham & Chislehurst","Erith & Thamesmead","Gosport","Hayes & Harlington","Kingston & Surbiton","Llanelli","Merthyr Tydfil & Aberdare","Northumberland North","Renfrewshire East","Scunthorpe","Stroud","Witney","Aldridge-Brownhills","Antrim South","Ayr, Carrick & Cumnock","Ayrshire North & Arran","Bedford","Belfast South & Mid Down","Berwickshire, Roxburgh & Selkirk","Bethnal Green & Stepney","Bexleyheath & Crayford","Birmingham Edgbaston","Birmingham Erdington","Bristol East","Bristol South","Burton & Uttoxeter","Bury North","Bury St Edmunds & Stowmarket","Chesterfield","Chichester","Cities of London & Westminster","Coatbridge & Bellshill","Coventry East","Coventry North West","Coventry South","Cumbernauld & Kirkintilloch","Derbyshire South","Devon South","Dover & Deal","Dumfries & Galloway","Dumfriesshire, Clydesdale & Tweeddale","Dunbartonshire Mid","Durham, City of","Ealing Central & Acton","Ealing North","Ealing Southall","Esher & Walton","Exeter","Frome & East Somerset","Gainsborough","Gedling","Glasgow East","Godalming & Ash","Harrow East","Harrow West","Hartlepool","High Peak","Hull North & Cottingham","Hull West & Haltemprice","Hyndburn","Inverclyde & Renfrewshire West","Lancaster & Wyre","Leeds Central & Headingley","Leeds East","Leeds North East","Leeds North West","Leeds South","Leeds South West & Morley","Leeds West & Pudsey","Leicestershire North West","Liverpool Garston","Liverpool Riverside","Liverpool Walton","Liverpool Wavertree","Liverpool West Derby","Louth & Horncastle","Lowestoft","Luton North","New Forest East","Newton Abbot","Norfolk Mid","Nottingham North & Kimberley","Old Bexley & Sidcup","Oldham East & Saddleworth","Oldham West, Chadderton & Royton","Penrith & Solway","Portsmouth North","Portsmouth South","Preston","Queenâ€™s Park & Maida Vale","Rawmarsh & Conisbrough","Reigate","Rother Valley","Rotherham","Scarborough & Whitby","Sheffield Brightside & Hillsborough","Sheffield South East","Sleaford & North Hykeham","Slough","South Down","South Holland & The Deepings","Stafford","Staffordshire Moorlands","Stirling & Strathallan","Suffolk Coastal","Surrey East","Sutton Coldfield","Tatton","Walsall & Bloxwich","Wells & Mendip Hills","Welwyn Hatfield","Wolverhampton North East","Wolverhampton South East","Wolverhampton West","Worcestershire West","Wyre Forest","Birmingham Hall Green & Moseley","Birmingham Hodge Hill & Solihull North","Brighton Kemptown & Peacehaven","Bristol North East","Bristol North West","Bromsgrove","Carshalton & Wallington","Glasgow South West","Glasgow West","Grantham & Bourne","Redditch","Ribble Valley","Ruislip, Northwood & Pinner","Sutton & Cheam","Tamworth","Wimbledon","Aberafan Maesteg","Altrincham & Sale West","Aylesbury","Ayrshire Central","Barking","Barrow & Furness","Basildon South & East Thurrock","Basingstoke","Bassetlaw","Bath","Bathgate & Linlithgow","Beckenham & Penge","Bedfordshire North","Bermondsey & Old Southwark","Beverley & Holderness","Birkenhead","Birmingham Ladywood","Birmingham Northfield","Bishop Auckland","Blackpool North & Fleetwood","Blaenau Gwent & Rhymney","Blaydon & Consett","Bognor Regis & Littlehampton","Boston & Skegness","Braintree","Brecon, Radnor & Cwm Tawe","Bridgend","Bridlington & the Wolds","Brigg & Immingham","Broadland & Fakenham","Buckinghamshire Mid","Bury South","Cambridge","Cambridgeshire South","Cardiff East","Cardiff South & Penarth","Ceredigion Preseli","Chelmsford","Chester South & Eddisbury","Chippenham","Clacton","Clwyd East","Cotswolds North","Cotswolds South","Dagenham & Rainham","Dartford","Devon Central","Devon North","Dunfermline & Dollar","East Grinstead & Uckfield","Eastbourne","Falkirk","Fermanagh & South Tyrone","Foyle","Glasgow North East","Glasgow South","Glastonbury & Somerton","Goole & Pocklington","Greenwich & Woolwich","Guildford","Hampshire East","Hampshire North West","Harborough, Oadby & Wigston","Harpenden & Berkhamsted","Harwich & North Essex","Hertford & Stortford","Hornchurch & Upminster","Hornsey & Friern Barnet","Kenilworth & Southam","Kettering","Lancashire West","Lothian East","Macclesfield","Melksham & Devizes","Moray West, Nairn & Strathspey","Morecambe & Lunesdale","Motherwell, Wishaw & Carluke","New Forest West","Newton Aycliffe & Spennymoor","Norfolk North","Norfolk South","Norwich North","Peckham","Pembrokeshire Mid & South","Penistone & Stocksbridge","Richmond & Northallerton","Richmond Park","Rossendale & Darwen","Rugby","Salisbury","Sevenoaks","Sheffield Central","Sheffield Heeley","Sherwood Forest","Sittingbourne & Sheppey","St Neots & Mid Cambridgeshire","Stockport","Stockton North","Stone, Great Wyrley & Penkridge","Stretford & Urmston","Suffolk Central & North Ipswich","Suffolk South","Suffolk West","Sussex Mid","Thurrock","Tottenham","Twickenham","Upper Bann","Wakefield & Rothwell","Wallasey","Warwick & Leamington","Waveney Valley","Wellingborough & Rushden","Westmorland & Lonsdale","Wiltshire East","Wiltshire South West","Wirral West","Witham","Woking","Yeovil","York Central","York Outer","Birmingham Perry Barr","Birmingham Selly Oak","Clapham & Brixton Hill","Dorking & Horley","Dulwich & West Norwood","Feltham & Heston","Holborn & St Pancras","Kingswinford & South Staffordshire","Shropshire South","Streatham & Croydon North","Uxbridge & South Ruislip","Vauxhall & Camberwell Green","Antrim North","Ashfield","Ashford","Birmingham Yardley","Blackley & Middleton South","Bournemouth East","Bournemouth West","Bradford West","Brentford & Isleworth","Brentwood & Ongar","Bridgwater","Brighton Pavilion","Cambridgeshire North East","Cardiff North","Christchurch","Crewe & Nantwich","Derby North","Derby South","Derbyshire Dales","Derbyshire North East","Dorset South","Edinburgh East & Musselburgh","Edinburgh North & Leith","Edinburgh South","Edinburgh South West","Edinburgh West","Faversham & Mid Kent","Gorton & Denton","Gravesham","Hampstead & Highgate","Kensington & Bayswater","Lagan Valley","Leicestershire South","Lincoln","Livingston","Maidstone & Malling","Manchester Central","Manchester Rusholme","Manchester Withington","Milton Keynes Central","Milton Keynes North","Monmouthshire","Montgomeryshire & Glyndwr","Neath & Swansea East","Newry & Armagh","Norfolk North West","Normanton & Hemsworth","Pontefract, Castleford & Knottingley","Poole","Poplar & Limehouse","Reading West & Mid Berkshire","Runnymede & Weybridge","Shropshire North","Skipton & Ripon","Somerset North East & Hanham","Southport","Surrey Heath","Taunton & Wellington","Tunbridge Wells","Weald of Kent","Worthing East & Shoreham","Worthing West","Wythenshawe & Sale East","Aberdeenshire North & Moray East","Cardiff West","Hove & Portslade","Rutland & Stamford","Tiverton & Minehead","Aberdeenshire West & Kincardine","Banbury","Bicester & Woodstock","Bradford East","Bromley & Biggin Hill","Broxtowe","Buckingham & Bletchley","Calder Valley","Camborne & Redruth","Cheadle","Congleton","Cornwall North","Cornwall South East","Daventry","Doncaster Central","Doncaster East & the Isle of Axholme","Doncaster North","Dorset Mid & North Poole","Dorset North","Earley & Woodley","Ely & East Cambridgeshire","Exmouth & Exeter East","Filton & Bradley Stoke","Gillingham & Rainham","Hackney North & Stoke Newington","Hackney South & Shoreditch","Halifax","Hastings & Rye","Hemel Hempstead","Hereford & South Herefordshire","Herefordshire North","Hertfordshire North East","Hertfordshire South West","Hitchin","Honiton & Sidmouth","Inverness, Skye & West Ross-shire","Keighley & Ilkley","Lewes","Maidenhead","Maldon","Melton & Syston","Newbury","Newcastle-under-Lyme","Northampton North","Northampton South","Orpington","Ossett & Denby Dale","Rochester & Strood","Salford","Sheffield Hallam","Shipley","Somerset North","Southampton Itchen","Southampton Test","Spelthorne","St Albans","St Austell & Newquay","St Ives","Stoke-on-Trent Central","Stoke-on-Trent North","Stoke-on-Trent South","Tewkesbury","Thornbury & Yate","Truro & Falmouth","Warrington North","Warrington South","Weston-super-Mare","Winchester","Windsor","Worsley & Eccles","Gordon & Buchan","Plymouth Moor View","Angus & Perthshire Glens","Arundel & South Downs","Ashton-under-Lyne","Bradford South","Caithness, Sutherland & Easter Ross","Chipping Barnet","Derbyshire Mid","Dewsbury & Batley","Didcot & Wantage","Dorset West","East Ham","Finchley & Golders Green","Hazel Grove","Hendon","Herne Bay & Sandwich","Horsham","Leicestershire Mid","Loughborough","Norfolk South West","Orkney & Shetland","Plymouth Sutton & Devonport","Stalybridge & Hyde","Stratford & Bow","Tonbridge","West Ham & Beckton","Selby","Spen Valley","Wetherby & Easingwold","Beaconsfield","Chatham & Aylesford","Chesham & Amersham","Colne Valley","Croydon East","Croydon South","Croydon West","Devon South West","Henley & Thame","Northamptonshire South","Oxford West & Abingdon","Thirsk & Malton","Torridge & Tavistock","Wokingham","Wycombe","Huddersfield","Argyll, Bute & South Lochaber","Farnham & Bordon","Ilford North","Ilford South"];class Eo extends L{constructor(){super();F(this,"brushParty","Lab");F(this,"colorMap",{0:"#ccc",1:"#0485A8",2:"#DC4343",3:"#EBB82F",4:"teal",5:"#EBDB1C",6:"#4FBA7C",7:"#5EBD4C"});F(this,"colorLabels",["None","Con","Lab","Lib","Ref","SNP","PC","Grn"]);F(this,"storedValues",{});const o=new URLSearchParams(window.location.search).get("v")||null;this.view="default",(o==="color"||o==="colour")&&(this.view="color"),this.geojsonData={features:[]},this.seatMapped=[],this.seatFilter="",this.selectedData={id:"2019",label:"2019 (notional)",date:"2019-12-12"},this.data24=[],this.cols24=[{id:"2019",label:"2019 (notional)"},{id:"britainpredicts",label:"Britain Predicts"},{id:"economist",label:"Economist"},{id:"electionmaps",label:"electionmaps"},{id:"electoralcalculus",label:"Electoral Calculus"},{id:"focaldata",label:"Focaldata"},{id:"ft",label:"FT"},{id:"ipsos",label:"Ipsos"},{id:"jlp",label:"JLP"},{id:"moreincommon",label:"More in Common"},{id:"savanta",label:"Savanta"},{id:"survation",label:"Survation"},{id:"wethink",label:"WeThink"},{id:"yougov",label:"YouGov"}],this.modelDates=[{model:"2019",dates:["2019-12-12"]},{model:"britainpredicts",dates:["2024-06-01","2024-06-07","2024-06-08","2024-06-16","2024-06-22","2024-06-29"]},{model:"economist",dates:["2024-06-02","2024-06-03","2024-06-07","2024-06-10","2024-06-11","2024-06-13","2024-06-14","2024-06-18","2024-06-19","2024-06-21","2024-06-24","2024-06-25","2024-06-26","2024-06-28"]},{model:"electionmaps",dates:["2024-06-27","2024-07-01"]},{model:"electoralcalculus",dates:["2024-06-02","2024-06-04","2024-06-14","2024-06-20","2024-06-23","2024-06-26","2024-06-27","2024-06-28","2024-06-30","2024-07-01"]},{model:"focaldata",dates:["2024-06-24"]},{model:"ft",dates:["2024-06-02","2024-06-03","2024-06-04","2024-06-07","2024-06-10","2024-06-12","2024-06-18","2024-06-20","2024-06-21","2024-06-25","2024-06-29"]},{model:"ipsos",dates:["2024-06-18"]},{model:"jlp",dates:["2024-06-30"]},{model:"moreincommon",dates:["2024-06-03","2024-06-19"]},{model:"savanta",dates:["2024-06-19"]},{model:"survation",dates:["2024-06-04","2024-06-16","2024-06-28"]},{model:"wethink",dates:["2024-06-26"]},{model:"yougov",dates:["2024-06-03","2024-06-19"]}],fetch("./uk-wpc-hex-constitcode-v5-june-2024.geojson",{mode:"cors",cache:"no-store"}).then(i=>i.json()).then(i=>{this.geojsonData=i,this.seatMapped=ke.map(n=>{var a,h;const s=this.geojsonData.features.find(d=>d.properties.BCName===n.replace("&","and"));return{seat:n,id:(a=s==null?void 0:s.properties)==null?void 0:a.GSScode,code:(h=s==null?void 0:s.properties)==null?void 0:h["3CODE"]}}),this.requestUpdate()}),this.view==="default"&&fetch("./predictions-all.csv",{mode:"cors",cache:"no-store"}).then(i=>i.text()).then(i=>{this.data24=xe(i),this.requestUpdate()})}static get properties(){return{seatFilter:{type:String},selectedData:{type:Object}}}projectPoint(e,o){this.stream.point(e+15e4,-o)}connectedCallback(){this.projection=eo({point:this.projectPoint}),this.path=to().projection(this.projection),this.storedValues=JSON.parse(window.localStorage.getItem("gsg-ge24-values"))||{},super.connectedCallback()}getFill(e){var o,i,n;if(this.view==="color")return this.colorMap[this.storedValues[(o=e==null?void 0:e.properties)==null?void 0:o.GSScode]||0];if(this.view==="default"){const a=(n=(i=this.data24.filter(d=>{var u;return d.model===this.selectedData.id&&d.code===((u=e==null?void 0:e.properties)==null?void 0:u.GSScode)&&d.scrape_date===this.selectedData.date}).sort((d,u)=>u.prediction-d.prediction))==null?void 0:i[0])==null?void 0:n.party;let h=a?this.colorLabels.findIndex(d=>d.toLowerCase()===a.toLowerCase()):0;return h===-1&&(h=0),this.colorMap[h]}}transformText(e){var i,n,s,a;const o=(a=(s=(n=(i=e==null?void 0:e.geometry)==null?void 0:i.coordinates)==null?void 0:n[0])==null?void 0:s[0])==null?void 0:a[0];return`translate(${o[0]+157e3},${-1*o[1]+5e3})`}renderColorText(){return $`            
    <label>Paintbrush color: <select @change=${this.updateBrushParty}>${this.colorLabels.map((e,o)=>$`<option ?selected=${e===this.brushParty} value=${e}>${e}</option>`)}</select></label>
    <button @click=${this.resetMap}>Clear map</button>
    <p>Click a single seat to cycle through colours, or set the colour dropdown above and drag to paint the map.</p>  
    `}renderDefaultText(){return $`
      <div>${this.cols24.map(e=>$`<button class="${e.id===this.selectedData.id?"selected":""}" @click=${()=>this.updateSelectedModel(e)}>${e.label}</button>`)}</div>
      <h4>${this.selectedData.label}</h4>
      <div>${this.modelDates.find(e=>e.model===this.selectedData.id).dates.map(e=>$`<button class="${e===this.selectedData.date?"selected":""}" @click=${()=>this.updateSelectedModelDate(e)}>${e}</button>`)}</div>
      Data from <a href="https://x.com/inglesp">@inglesp</a>: <a href="https://inglesp.github.io">https://inglesp.github.io</a>
    `}render(){return this.seats=this.seatMapped.filter(e=>{var o,i;return this.seatFilter.length>0?((o=e.seat)==null?void 0:o.toLowerCase().includes(this.seatFilter.toLowerCase()))||((i=e.code)==null?void 0:i.toLowerCase().includes(this.seatFilter.toLowerCase())):!0}),this.subtitle=this.view==="color"?$`<h5><a href="/?v=default">Almanac</a> | <strong><a href="/?v=color">Colourbook</a></strong> version</h5>`:$`<h5><strong><a href="/?v=default">Almanac</a> </strong> | <a href="/?v=color">Colourbook</a> version</h5>`,$`
        <header>
            <h1>GE24</h1>
            ${this.subtitle}
            ${this.view==="default"?this.renderDefaultText():p}
            ${this.view==="color"?this.renderColorText():p}

            <p>Source map: <a href="https://automaticknowledge.org/wpc-hex/">https://automaticknowledge.org/wpc-hex/</a></p>
        </header>
        <svg
        style="width: 100vw; height: 1000px"
        viewBox="0, -8000000, 60000, 1700000"
        >
        ${this.geojsonData.features.map(e=>{var o,i;return go`<g><path
                    d="${this.path(e)}"
                    data-id="${(o=e==null?void 0:e.properties)==null?void 0:o.GSScode}"
                    fill="${this.getFill(e)}"
                    stroke="white"
                    stroke-width="1000"
                    @mousedown="${this.paintDown}"
                    @mousemove="${this.paintDrag}"
                    @mouseup="${this.paintUp}"
                />
                <text font-size="12000" transform="${this.transformText(e)}">${(i=e==null?void 0:e.properties)==null?void 0:i["3CODE"]}</text>
            </g>`})}
        </svg>
        <seat-table
            .colorLabels=${this.colorLabels}
            .colorMap=${this.colorMap}
            .data24=${this.data24}
            .geojsonData=${this.geojsonData}
            .selectedData=${this.selectedData}
            .storedValues=${this.storedValues}
            .view=${this.view}
        >
        </seat-table>
    `}doClick(e){if(this.view==="color"){const o=e.target.getAttribute("data-id"),i=JSON.parse(window.localStorage.getItem("gsg-ge24-values"))||{};i[o]=i[o]+1||1,i[o]>7&&(i[o]=0),this.brushParty=this.colorLabels[i[o]],window.localStorage.setItem("gsg-ge24-values",JSON.stringify(i)),this.storedValues=i,this.requestUpdate()}}paintDown(e){this.view==="color"&&(this.isPainting=!0,this.startSeat=e.target.getAttribute("data-id"))}paintDrag(e){if(this.view==="color"){const o=e.target.getAttribute("data-id");if(this.isPainting&&this.startSeat!==o){const i=this.storedValues;i[o]=this.colorLabels.indexOf(this.brushParty||"None")||0,this.storedValues=i,this.requestUpdate()}}}paintUp(e){if(this.view==="color"){const o=e.target.getAttribute("data-id");this.startSeat!==o?(window.localStorage.setItem("gsg-ge24-values",JSON.stringify(this.storedValues)),this.startSeat=null):this.doClick(e),this.isPainting=!1}}updateBrushParty(e){this.brushParty=e.target.value}updateSelectedModel(e){this.selectedData=e,this.selectedData.date=this.modelDates.find(o=>o.model===e.id).dates[0]}updateSelectedModelDate(e){this.selectedData.date=e,this.requestUpdate()}resetMap(){window.localStorage.setItem("gsg-ge24-values",JSON.stringify({})),this.storedValues={},this.requestUpdate()}static get styles(){return ve`
        :host {
            display: block;
            width: 100%;
        }
        header {
            position: fixed;
            top: 0;
            right: 0;
            padding: 1em;
            width: 30vw;
        }

        @media (max-width: 600px) {
            header {
            position: relative;
            width: 90%;
            }
        }

        text {
            font-family: sans-serif;
            pointer-events: none
        }

        path {
          transition: fill 0.5s;
        }

        .selected {
          background: #99ccff;
        }

        .table {
            max-height: 300px;
            overflow: auto;
            padding: 1em;
        }

        .table > div {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
        }
    `}}window.customElements.define("map-ge24",Eo);class _o extends L{static get properties(){return{data24:{type:Array},seatFilter:{type:String},colorLabels:{type:Array},colorMap:{type:Object},geojsonData:{type:Object},seatFilter:{type:String},selectedData:{type:Object},storedValues:{type:Object},view:{type:String}}}constructor(){super(),this.seatFilter=""}willUpdate(){this.seatMapped=ke.map(t=>{var o,i,n;const e=(o=this.geojsonData)==null?void 0:o.features.find(s=>s.properties.BCName===t.replace("&","and"));return{seat:t,id:(i=e==null?void 0:e.properties)==null?void 0:i.GSScode,code:(n=e==null?void 0:e.properties)==null?void 0:n["3CODE"]}}),this.colorStore=this.storedValues,this.seats=this.seatMapped.filter(t=>{var e,o;return this.seatFilter.length>0?((e=t.seat)==null?void 0:e.toLowerCase().includes(this.seatFilter.toLowerCase()))||((o=t.code)==null?void 0:o.toLowerCase().includes(this.seatFilter.toLowerCase())):!0})}render(){return $`
      <input @change=${this.updateFilter} />
      <div class="table">
        ${this.seats.map(t=>$`<div>
            <div>${t.seat}</div>
            <div>${t.id||""}</div>
            <div>${t.code||""}</div>
            <div style="background-color:${t.id?this.getFill(t):""}"></div>
          </div>`)}
      </div>
    `}updateFilter(t){this.seatFilter=t.target.value,this.requestUpdate()}getFill(t){var e,o;if(this.view==="color")return this.colorMap[this.storedValues[t==null?void 0:t.id]||0];if(this.view==="default"){const n=(o=(e=this.data24.filter(a=>a.model===this.selectedData.id&&a.code===(t==null?void 0:t.id)&&a.scrape_date===this.selectedData.date).sort((a,h)=>h.prediction-a.prediction))==null?void 0:e[0])==null?void 0:o.party;let s=n?this.colorLabels.findIndex(a=>a.toLowerCase()===n.toLowerCase()):0;return s===-1&&(s=0),this.colorMap[s]}}static get styles(){return ve`
      :host {
        display: block;
        width: 100%;
      }
      .table {
        max-height: 300px;
        overflow: auto;
        padding: 1em;
      }

      input { 
        margin: 0 1em;
      }

      .table > div {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr;
      }
    `}}window.customElements.define("seat-table",_o);

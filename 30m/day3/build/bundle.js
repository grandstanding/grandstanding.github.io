var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function i(t){return"function"==typeof t}function o(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function a(n,...e){if(null==n)return t;const r=n.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function u(t,n,e){t.$$.on_destroy.push(a(n,e))}function s(t,n,e,r){if(t){const i=c(t,n,e,r);return t[0](i)}}function c(t,n,e,r){return t[1]&&r?function(t,n){for(const e in n)t[e]=n[e];return t}(e.ctx.slice(),t[1](r(n))):e.ctx}function l(t,n,e,r,i,o,a){const u=function(t,n,e,r){if(t[2]&&r){const i=t[2](r(e));if(void 0===n.dirty)return i;if("object"==typeof i){const t=[],e=Math.max(n.dirty.length,i.length);for(let r=0;r<e;r+=1)t[r]=n.dirty[r]|i[r];return t}return n.dirty|i}return n.dirty}(n,r,i,o);if(u){const i=c(n,e,r,a);t.p(i,u)}}function f(t,n){t.appendChild(n)}function p(t,n,e){t.insertBefore(n,e||null)}function h(t){t.parentNode.removeChild(t)}function d(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function g(t){return document.createElement(t)}function y(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function v(){return m(" ")}function $(){return m("")}function x(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function b(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function w(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function S(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}let M,E;function N(){if(void 0===M){M=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){M=!0}}return M}function k(t){E=t}function z(){if(!E)throw new Error("Function called outside component initialization");return E}function P(){const t=z();return(n,e)=>{const r=t.$$.callbacks[n];if(r){const i=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);r.slice().forEach((n=>{n.call(t,i)}))}}}function R(t){return z().$$.context.get(t)}const _=[],F=[],A=[],D=[],j=Promise.resolve();let C=!1;function T(t){A.push(t)}let I=!1;const L=new Set;function q(){if(!I){I=!0;do{for(let t=0;t<_.length;t+=1){const n=_[t];k(n),H(n.$$)}for(k(null),_.length=0;F.length;)F.pop()();for(let t=0;t<A.length;t+=1){const n=A[t];L.has(n)||(L.add(n),n())}A.length=0}while(_.length);for(;D.length;)D.pop()();C=!1,I=!1,L.clear()}}function H(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(T)}}const O=new Set;let B;function W(){B={r:0,c:[],p:B}}function G(){B.r||r(B.c),B=B.p}function Y(t,n){t&&t.i&&(O.delete(t),t.i(n))}function U(t,n,e,r){if(t&&t.o){if(O.has(t))return;O.add(t),B.c.push((()=>{O.delete(t),r&&(e&&t.d(1),r())})),t.o(n)}}function V(t){t&&t.c()}function X(t,e,o){const{fragment:a,on_mount:u,on_destroy:s,after_update:c}=t.$$;a&&a.m(e,o),T((()=>{const e=u.map(n).filter(i);s?s.push(...e):r(e),t.$$.on_mount=[]})),c.forEach(T)}function Z(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function Q(t,n){-1===t.$$.dirty[0]&&(_.push(t),C||(C=!0,j.then(q)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function J(n,i,o,a,u,s,c=[-1]){const l=E;k(n);const f=n.$$={fragment:null,ctx:null,props:s,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:e(),dirty:c,skip_bound:!1};let p=!1;if(f.ctx=o?o(n,i.props||{},((t,e,...r)=>{const i=r.length?r[0]:e;return f.ctx&&u(f.ctx[t],f.ctx[t]=i)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](i),p&&Q(n,t)),e})):[],f.update(),p=!0,r(f.before_update),f.fragment=!!a&&a(f.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);f.fragment&&f.fragment.l(t),t.forEach(h)}else f.fragment&&f.fragment.c();i.intro&&Y(n.$$.fragment),X(n,i.target,i.anchor),q()}k(l)}class K{$destroy(){Z(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(t){var n;this.$$set&&(n=t,0!==Object.keys(n).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const tt=[];function nt(n,e=t){let r;const i=[];function a(t){if(o(n,t)&&(n=t,r)){const t=!tt.length;for(let t=0;t<i.length;t+=1){const e=i[t];e[1](),tt.push(e,n)}if(t){for(let t=0;t<tt.length;t+=2)tt[t][0](tt[t+1]);tt.length=0}}}return{set:a,update:function(t){a(t(n))},subscribe:function(o,u=t){const s=[o,u];return i.push(s),1===i.length&&(r=e(a)||t),o(n),()=>{const t=i.indexOf(s);-1!==t&&i.splice(t,1),0===i.length&&(r(),r=null)}}}}function et(n,e,o){const u=!Array.isArray(n),s=u?[n]:n,c=e.length<2;return{subscribe:nt(o,(n=>{let o=!1;const l=[];let f=0,p=t;const h=()=>{if(f)return;p();const r=e(u?l[0]:l,n);c?n(r):p=i(r)?r:t},d=s.map(((t,n)=>a(t,(t=>{l[n]=t,f&=~(1<<n),o&&h()}),(()=>{f|=1<<n}))));return o=!0,h(),function(){r(d),p()}})).subscribe}}function rt(t){return 0===(n=t)||n?Array.isArray(t)?n=>t.map((t=>"function"!=typeof t?n[t]:t(n))):"function"!=typeof t?n=>n[t]:t:null;var n}function it(t,n={}){return function(t){const n={};for(const e of t){if(Object(e)!==e)throw new TypeError("iterable for fromEntries should yield objects");const{0:t,1:r}=e;Object.defineProperty(n,t,{configurable:!0,enumerable:!0,writable:!0,value:r})}return n}(Object.entries(t).filter((([t,e])=>void 0!==e&&void 0===n[t])))}function ot(t,n){if(!Array.isArray(t))throw new TypeError("The first argument of calcExtents() must be an array.");if(Array.isArray(n)||null==n)throw new TypeError("The second argument of calcExtents() must be an object with field names as keys as accessor functions as values.");const e={},r=Object.keys(n),i=r.length;let o,a,u,s,c,l,f,p;const h=t.length;for(o=0;o<i;o+=1){for(s=r[o],f=n[s],c=null,l=null,a=0;a<h;a+=1)if(p=f(t[a]),Array.isArray(p)){const t=p.length;for(u=0;u<t;u+=1)void 0!==p[u]&&null!==p[u]&&!1===Number.isNaN(p[u])&&((null===c||p[u]<c)&&(c=p[u]),(null===l||p[u]>l)&&(l=p[u]))}else null!=p&&!1===Number.isNaN(p)&&((null===c||p<c)&&(c=p),(null===l||p>l)&&(l=p));e[s]=[c,l]}return e}function at(t=[],n){return!0===Array.isArray(n)?n.map(((n,e)=>null===n?t[e]:n)):t}function ut(t){return function([n,e]){return n?at(n[t],e):e}}function st(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ct(t){let n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=(n,e)=>t(n)-e,e=function(t){return(n,e)=>st(t(n),e)}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,e,i,o-1);return a>i&&n(t[a-1],e)>-n(t[a],e)?a-1:a},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}}const lt=ct(st).right;ct((function(t){return null===t?NaN:+t})).center;class ft{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,a=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);a&&(n[e++]=a),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}var pt=Math.sqrt(50),ht=Math.sqrt(10),dt=Math.sqrt(2);function gt(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=pt?10:o>=ht?5:o>=dt?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=pt?10:o>=ht?5:o>=dt?2:1)}function yt(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function mt(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function vt(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function $t(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function xt(){}var bt=.7,wt=1/bt,St="\\s*([+-]?\\d+)\\s*",Mt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Et="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Nt=/^#([0-9a-f]{3,8})$/,kt=new RegExp("^rgb\\("+[St,St,St]+"\\)$"),zt=new RegExp("^rgb\\("+[Et,Et,Et]+"\\)$"),Pt=new RegExp("^rgba\\("+[St,St,St,Mt]+"\\)$"),Rt=new RegExp("^rgba\\("+[Et,Et,Et,Mt]+"\\)$"),_t=new RegExp("^hsl\\("+[Mt,Et,Et]+"\\)$"),Ft=new RegExp("^hsla\\("+[Mt,Et,Et,Mt]+"\\)$"),At={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Dt(){return this.rgb().formatHex()}function jt(){return this.rgb().formatRgb()}function Ct(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Nt.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?Tt(n):3===e?new Ht(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?It(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?It(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=kt.exec(t))?new Ht(n[1],n[2],n[3],1):(n=zt.exec(t))?new Ht(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Pt.exec(t))?It(n[1],n[2],n[3],n[4]):(n=Rt.exec(t))?It(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=_t.exec(t))?Gt(n[1],n[2]/100,n[3]/100,1):(n=Ft.exec(t))?Gt(n[1],n[2]/100,n[3]/100,n[4]):At.hasOwnProperty(t)?Tt(At[t]):"transparent"===t?new Ht(NaN,NaN,NaN,0):null}function Tt(t){return new Ht(t>>16&255,t>>8&255,255&t,1)}function It(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ht(t,n,e,r)}function Lt(t){return t instanceof xt||(t=Ct(t)),t?new Ht((t=t.rgb()).r,t.g,t.b,t.opacity):new Ht}function qt(t,n,e,r){return 1===arguments.length?Lt(t):new Ht(t,n,e,null==r?1:r)}function Ht(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Ot(){return"#"+Wt(this.r)+Wt(this.g)+Wt(this.b)}function Bt(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Wt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Gt(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new Ut(t,n,e,r)}function Yt(t){if(t instanceof Ut)return new Ut(t.h,t.s,t.l,t.opacity);if(t instanceof xt||(t=Ct(t)),!t)return new Ut;if(t instanceof Ut)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Ut(a,u,s,t.opacity)}function Ut(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Vt(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}vt(xt,Ct,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Dt,formatHex:Dt,formatHsl:function(){return Yt(this).formatHsl()},formatRgb:jt,toString:jt}),vt(Ht,qt,$t(xt,{brighter:function(t){return t=null==t?wt:Math.pow(wt,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?bt:Math.pow(bt,t),new Ht(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ot,formatHex:Ot,formatRgb:Bt,toString:Bt})),vt(Ut,(function(t,n,e,r){return 1===arguments.length?Yt(t):new Ut(t,n,e,null==r?1:r)}),$t(xt,{brighter:function(t){return t=null==t?wt:Math.pow(wt,t),new Ut(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?bt:Math.pow(bt,t),new Ut(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ht(Vt(t>=240?t-240:t+120,i,r),Vt(t,i,r),Vt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Xt=t=>()=>t;function Zt(t){return 1==(t=+t)?Qt:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Xt(isNaN(n)?e:n)}}function Qt(t,n){var e=n-t;return e?function(t,n){return function(e){return t+e*n}}(t,e):Xt(isNaN(t)?n:t)}var Jt=function t(n){var e=Zt(n);function r(t,n){var r=e((t=qt(t)).r,(n=qt(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),a=Qt(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=a(n),t+""}}return r.gamma=t,r}(1);function Kt(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}}function tn(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(e=0;e<i;++e)o[e]=sn(t[e],n[e]);for(;e<r;++e)a[e]=n[e];return function(t){for(e=0;e<i;++e)a[e]=o[e](t);return a}}function nn(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}}function en(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function rn(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=sn(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}var on=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,an=new RegExp(on.source,"g");function un(t,n){var e,r,i,o=on.lastIndex=an.lastIndex=0,a=-1,u=[],s=[];for(t+="",n+="";(e=on.exec(t))&&(r=an.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(e=e[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:en(e,r)})),o=an.lastIndex;return o<n.length&&(i=n.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(n){return t(n)+""}}(s[0].x):function(t){return function(){return t}}(n):(n=s.length,function(t){for(var e,r=0;r<n;++r)u[(e=s[r]).i]=e.x(t);return u.join("")})}function sn(t,n){var e,r,i=typeof n;return null==n||"boolean"===i?Xt(n):("number"===i?en:"string"===i?(e=Ct(n))?(n=e,Jt):un:n instanceof Ct?Jt:n instanceof Date?nn:(r=n,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(n)?tn:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?rn:en:Kt))(t,n)}function cn(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}}function ln(t){return+t}var fn=[0,1];function pn(t){return t}function hn(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function dn(t,n,e){var r=t[0],i=t[1],o=n[0],a=n[1];return i<r?(r=hn(i,r),o=e(a,o)):(r=hn(r,i),o=e(o,a)),function(t){return o(r(t))}}function gn(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++a<r;)i[a]=hn(t[a],t[a+1]),o[a]=e(n[a],n[a+1]);return function(n){var e=lt(t,n,1,r)-1;return o[e](i[e](n))}}function yn(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mn(){var t,n,e,r,i,o,a=fn,u=fn,s=sn,c=pn;function l(){var t,n,e,s=Math.min(a.length,u.length);return c!==pn&&(t=a[0],n=a[s-1],t>n&&(e=t,t=n,n=e),c=function(e){return Math.max(t,Math.min(n,e))}),r=s>2?gn:dn,i=o=null,f}function f(n){return isNaN(n=+n)?e:(i||(i=r(a.map(t),u,s)))(t(c(n)))}return f.invert=function(e){return c(n((o||(o=r(u,a.map(t),en)))(e)))},f.domain=function(t){return arguments.length?(a=Array.from(t,ln),l()):a.slice()},f.range=function(t){return arguments.length?(u=Array.from(t),l()):u.slice()},f.rangeRound=function(t){return u=Array.from(t),s=cn,l()},f.clamp=function(t){return arguments.length?(c=!!t||pn,l()):c!==pn},f.interpolate=function(t){return arguments.length?(s=t,l()):s},f.unknown=function(t){return arguments.length?(e=t,f):e},function(e,r){return t=e,n=r,l()}}function vn(){return mn()(pn,pn)}function $n(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function xn(t){return(t=$n(Math.abs(t)))?t[1]:NaN}var bn,wn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Sn(t){if(!(n=wn.exec(t)))throw new Error("invalid format: "+t);var n;return new Mn({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Mn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function En(t,n){var e=$n(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Sn.prototype=Mn.prototype,Mn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Nn={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>En(100*t,n),r:En,s:function(t,n){var e=$n(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(bn=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$n(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function kn(t){return t}var zn,Pn,Rn,_n=Array.prototype.map,Fn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function An(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?kn:(n=_n.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=n[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=n[a=(a+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?kn:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(_n.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",c=void 0===t.minus?"−":t.minus+"",l=void 0===t.nan?"NaN":t.nan+"";function f(t){var n=(t=Sn(t)).fill,e=t.align,f=t.sign,p=t.symbol,h=t.zero,d=t.width,g=t.comma,y=t.precision,m=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Nn[v]||(void 0===y&&(y=12),m=!0,v="g"),(h||"0"===n&&"="===e)&&(h=!0,n="0",e="=");var $="$"===p?i:"#"===p&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===p?o:/[%p]/.test(v)?s:"",b=Nn[v],w=/[defgprs%]/.test(v);function S(t){var i,o,s,p=$,S=x;if("c"===v)S=b(t)+S,t="";else{var M=(t=+t)<0||1/t<0;if(t=isNaN(t)?l:b(Math.abs(t),y),m&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),M&&0==+t&&"+"!==f&&(M=!1),p=(M?"("===f?f:c:"-"===f||"("===f?"":f)+p,S=("s"===v?Fn[8+bn/3]:"")+S+(M&&"("===f?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){S=(46===s?a+t.slice(i+1):t.slice(i))+S,t=t.slice(0,i);break}}g&&!h&&(t=r(t,1/0));var E=p.length+t.length+S.length,N=E<d?new Array(d-E+1).join(n):"";switch(g&&h&&(t=r(N+t,N.length?d-S.length:1/0),N=""),e){case"<":t=p+t+S+N;break;case"=":t=p+N+t+S;break;case"^":t=N.slice(0,E=N.length>>1)+p+t+S+N.slice(E);break;default:t=N+p+t+S}return u(t)}return y=void 0===y?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y)),S.toString=function(){return t+""},S}return{format:f,formatPrefix:function(t,n){var e=f(((t=Sn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(xn(n)/3))),i=Math.pow(10,-r),o=Fn[8+r/3];return function(t){return e(i*t)+o}}}}function Dn(t,n,e,r){var i,o=function(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=pt?i*=10:o>=ht?i*=5:o>=dt&&(i*=2),n<t?-i:i}(t,n,e);switch((r=Sn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(xn(n)/3)))-xn(Math.abs(t)))}(o,a))||(r.precision=i),Rn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,xn(n)-xn(t))+1}(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-xn(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Pn(r)}function jn(t){var n=t.domain;return t.ticks=function(t){var e=n();return function(t,n,e){var r,i,o,a,u=-1;if(e=+e,(t=+t)==(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(a=gt(t,n,e))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),n=Math.floor(n/a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),n=Math.floor(n*a),o=new Array(i=Math.ceil(n-t+1));++u<i;)o[u]=(t+u)/a;return r&&o.reverse(),o}(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Dn(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),a=0,u=o.length-1,s=o[a],c=o[u],l=10;for(c<s&&(i=s,s=c,c=i,i=a,a=u,u=i);l-- >0;){if((i=gt(s,c,e))===r)return o[a]=s,o[u]=c,n(o);if(i>0)s=Math.floor(s/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,c=Math.floor(c*i)/i}r=i}return t},t}function Cn(){var t=vn();return t.copy=function(){return yn(t,Cn())},mt.apply(t,arguments),jn(t)}function Tn(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function In(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Ln(t){return t<0?-t*t:t*t}function qn(t){var n=t(pn,pn),e=1;function r(){return 1===e?t(pn,pn):.5===e?t(In,Ln):t(Tn(e),Tn(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},jn(n)}function Hn(){var t=qn(mn());return t.copy=function(){return yn(t,Hn()).exponent(t.exponent())},mt.apply(t,arguments),t}function On(){var t,n=0,e=1,r=1,i=[.5],o=[0,1];function a(n){return n<=n?o[lt(i,n,0,r)]:t}function u(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*e-(t-r)*n)/(r+1);return a}return a.domain=function(t){return arguments.length?([n,e]=t,n=+n,e=+e,u()):[n,e]},a.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,u()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[n,i[0]]:a>=r?[i[r-1],e]:[i[a-1],i[a]]},a.unknown=function(n){return arguments.length?(t=n,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return On().domain([n,e]).range(o).unknown(t)},mt.apply(jn(a),arguments)}zn=An({thousands:",",grouping:[3],currency:["$",""]}),Pn=zn.format,Rn=zn.formatPrefix;var Bn={x:Cn,y:Cn,z:Cn,r:function(){return Hn.apply(null,arguments).exponent(.5)}};function Wn(t){return t}function Gn(t){return n=>Math.log(t*n)}function Yn(t){return n=>t*Math.exp(n)}function Un(t){return n=>Math.sign(n)*Math.expm1(Math.abs(n))*t}function Vn(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function Xn(t,n){if("function"!=typeof t.range)throw new Error("Scale method `range` must be a function");if("function"!=typeof t.domain)throw new Error("Scale method `domain` must be a function");if(!Array.isArray(n))return t.domain();2!==t.domain().length&&console.warn("[LayerCake] The scale is expected to have a domain of length 2 to use padding. Are you sure you want to use padding? Your scale's domain is:",t.domain()),2!==t.range().length&&console.warn("[LayerCake] The scale is expected to have a range of length 2 to use padding. Are you sure you want to use padding? Your scale's range is:",t.range());const{lift:e,ground:r}=function(t){const n=function(t){return t.constant?"symlog":t.base?"log":t.exponent?.5===t.exponent()?"sqrt":"pow":"other"}(t);if("log"===n){const e=Math.sign(t.domain()[0]);return{lift:Gn(e),ground:Yn(e),scaleType:n}}if("pow"===n){const t=1;return{lift:Vn(t),ground:Vn(1/t),scaleType:n}}if("sqrt"===n){const t=.5;return{lift:Vn(t),ground:Vn(1/t),scaleType:n}}if("symlog"===n){const t=1;return{lift:(e=t,t=>Math.sign(t)*Math.log1p(Math.abs(t/e))),ground:Un(t),scaleType:n}}var e;return{lift:Wn,ground:Wn,scaleType:n}}(t),i=t.domain()[0],o="[object Date]"===Object.prototype.toString.call(i),[a,u]=t.domain().map((t=>e(o?t.getTime():t))),[s,c]=t.range(),l=n[0]||0,f=n[1]||0,p=(u-a)/(Math.abs(c-s)-l-f);return[a-l*p,f*p+u].map((t=>r(o?new Date(t):t)))}function Zn(t){return function([n,e,r,i,o,a,u,s,c,l]){if(null===e)return null;const f=function(t,n,e,r,i,o){return i?"function"==typeof i?i({width:n,height:e}):i:function(t,n,e,r,i){let o,a;return!0===i?(o=0,a=100):(o="r"===t?1:0,a="y"===t?e:"r"===t?25:n),!0===r?[a,o]:[o,a]}(t,n,e,r,o)}(t,u,s,a,c,l),p=n===Bn[t]?n():n.copy();return p.domain(at(e[t],r)).range(f),i&&p.domain(Xn(p,i)),!0===o&&("function"==typeof p.nice?p.nice():console.error(`[Layer Cake] You set \`${t}Nice: true\` but the ${t}Scale does not have a \`.nice\` method. Ignoring...`)),p}}function Qn([t,n]){return e=>{const r=t(e);return Array.isArray(r)?r.map((t=>n(t))):n(r)}}function Jn([t]){if("function"==typeof t){if("function"==typeof t.range)return t.range();console.error("[LayerCake] Your scale doesn't have a `.range` method?")}return null}var Kn={x:!1,y:!0,z:!1,r:!1};const te=t=>({element:4&t[0],width:64&t[0],height:128&t[0],aspectRatio:256&t[0],containerWidth:512&t[0],containerHeight:1024&t[0]}),ne=t=>({element:t[2],width:t[6],height:t[7],aspectRatio:t[8],containerWidth:t[9],containerHeight:t[10]});function ee(t){let n,e,r,i;const o=t[54].default,a=s(o,t,t[53],ne);return{c(){n=g("div"),a&&a.c(),b(n,"class","layercake-container svelte-vhzpsp"),b(n,"style",e="\n\t\t\tposition:"+t[5]+";\n\t\t\t"+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===t[4]?"pointer-events:none;":"")+"\n\t\t"),T((()=>t[56].call(n)))},m(e,o){p(e,n,o),a&&a.m(n,null),t[55](n),r=function(t,n){"static"===getComputedStyle(t).position&&(t.style.position="relative");const e=g("iframe");e.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),e.setAttribute("aria-hidden","true"),e.tabIndex=-1;const r=N();let i;return r?(e.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",i=x(window,"message",(t=>{t.source===e.contentWindow&&n()}))):(e.src="about:blank",e.onload=()=>{i=x(e.contentWindow,"resize",n)}),f(t,e),()=>{(r||i&&e.contentWindow)&&i(),h(e)}}(n,t[56].bind(n)),i=!0},p(t,r){a&&a.p&&1988&r[0]|4194304&r[1]&&l(a,o,t,t[53],r,te,ne),(!i||48&r[0]&&e!==(e="\n\t\t\tposition:"+t[5]+";\n\t\t\t"+("absolute"===t[5]?"top:0;right:0;bottom:0;left:0;":"")+"\n\t\t\t"+(!1===t[4]?"pointer-events:none;":"")+"\n\t\t"))&&b(n,"style",e)},i(t){i||(Y(a,t),i=!0)},o(t){U(a,t),i=!1},d(e){e&&h(n),a&&a.d(e),t[55](null),r()}}}function re(t){let n,e,r=(!0===t[3]||"undefined"!=typeof window)&&ee(t);return{c(){r&&r.c(),n=$()},m(t,i){r&&r.m(t,i),p(t,n,i),e=!0},p(t,e){!0===t[3]||"undefined"!=typeof window?r?(r.p(t,e),8&e[0]&&Y(r,1)):(r=ee(t),r.c(),Y(r,1),r.m(n.parentNode,n)):r&&(W(),U(r,1,1,(()=>{r=null})),G())},i(t){e||(Y(r),e=!0)},o(t){U(r),e=!1},d(t){r&&r.d(t),t&&h(n)}}}function ie(t,n,e){let r,i,o,a,s,c,{$$slots:l={},$$scope:f}=n,{ssr:p=!1}=n,{pointerEvents:h=!0}=n,{position:d="relative"}=n,{percentRange:g=!1}=n,{width:y}=n,{height:m}=n,{containerWidth:v=y||100}=n,{containerHeight:$=m||100}=n,{element:x}=n,{x:b}=n,{y:w}=n,{z:S}=n,{r:M}=n,{custom:E={}}=n,{data:N=[]}=n,{xDomain:k}=n,{yDomain:P}=n,{zDomain:R}=n,{rDomain:_}=n,{xNice:A=!1}=n,{yNice:D=!1}=n,{zNice:j=!1}=n,{rNice:C=!1}=n,{xReverse:T=Kn.x}=n,{yReverse:I=Kn.y}=n,{zReverse:L=Kn.z}=n,{rReverse:q=Kn.r}=n,{xPadding:H}=n,{yPadding:O}=n,{zPadding:B}=n,{rPadding:W}=n,{xScale:G=Bn.x}=n,{yScale:Y=Bn.y}=n,{zScale:U=Bn.y}=n,{rScale:V=Bn.r}=n,{xRange:X}=n,{yRange:Z}=n,{zRange:Q}=n,{rRange:J}=n,{padding:K={}}=n,{extents:tt={}}=n,{flatData:at}=n;const st={},ct=nt(),lt=nt();u(t,lt,(t=>e(9,s=t)));const ft=nt();u(t,ft,(t=>e(10,c=t)));const pt=nt(),ht=nt(),dt=nt(),gt=nt(),yt=nt(),mt=nt(),vt=nt(),$t=nt(),xt=nt(),bt=nt(),wt=nt(),St=nt(),Mt=nt(),Et=nt(),Nt=nt(),kt=nt(),zt=nt(),Pt=nt(),Rt=nt(),_t=nt(),Ft=nt(),At=nt(),Dt=nt(),jt=nt(),Ct=nt(),Tt=nt(),It=nt(),Lt=nt(),qt=nt(),Ht=nt(),Ot=nt(),Bt=nt(),Wt=nt(),Gt=nt(st),Yt=et([pt,ht,dt,gt],(([t,n,e,r])=>{const i={};return t&&(i.x=t),n&&(i.y=n),e&&(i.z=e),r&&(i.r=r),i})),Ut=et([Ot,lt,ft],(([t])=>Object.assign({top:0,right:0,bottom:0,left:0},t))),Vt=et([lt,ft,Ut],(([t,n,e])=>{const r={};return r.top=e.top,r.right=t-e.right,r.bottom=n-e.bottom,r.left=e.left,r.width=r.right-r.left,r.height=r.bottom-r.top,r.width<=0&&console.error("[LayerCake] Target div has zero or negative width. Did you forget to set an explicit width in CSS on the container?"),r.height<=0&&console.error("[LayerCake] Target div has zero or negative height. Did you forget to set an explicit height in CSS on the container?"),r})),Xt=et([Vt],(([t])=>t.width));u(t,Xt,(t=>e(6,i=t)));const Zt=et([Vt],(([t])=>t.height));u(t,Zt,(t=>e(7,o=t)));const Qt=et([Bt,Yt,Wt],(([t,n,e])=>({...ot(t,it(n,e)),...e}))),Jt=et([Qt,vt],ut("x")),Kt=et([Qt,$t],ut("y")),tn=et([Qt,xt],ut("z")),nn=et([Qt,bt],ut("r")),en=et([Dt,Qt,Jt,Rt,wt,Nt,Xt,Zt,It,ct],Zn("x")),rn=et([pt,en],Qn),on=et([jt,Qt,Kt,_t,St,kt,Xt,Zt,Lt,ct],Zn("y")),an=et([ht,on],Qn),un=et([Ct,Qt,tn,Ft,Mt,zt,Xt,Zt,qt,ct],Zn("z")),sn=et([dt,un],Qn),cn=et([Tt,Qt,nn,At,Et,Pt,Xt,Zt,Ht,ct],Zn("r")),ln=et([gt,cn],Qn),fn=et([en],Jn),pn=et([on],Jn),hn=et([un],Jn),dn=et([cn],Jn),gn=et([Xt,Zt],(([t,n,e])=>n/e));return u(t,gn,(t=>e(8,a=t))),t.$$set=t=>{"ssr"in t&&e(3,p=t.ssr),"pointerEvents"in t&&e(4,h=t.pointerEvents),"position"in t&&e(5,d=t.position),"percentRange"in t&&e(16,g=t.percentRange),"width"in t&&e(17,y=t.width),"height"in t&&e(18,m=t.height),"containerWidth"in t&&e(0,v=t.containerWidth),"containerHeight"in t&&e(1,$=t.containerHeight),"element"in t&&e(2,x=t.element),"x"in t&&e(19,b=t.x),"y"in t&&e(20,w=t.y),"z"in t&&e(21,S=t.z),"r"in t&&e(22,M=t.r),"custom"in t&&e(23,E=t.custom),"data"in t&&e(24,N=t.data),"xDomain"in t&&e(25,k=t.xDomain),"yDomain"in t&&e(26,P=t.yDomain),"zDomain"in t&&e(27,R=t.zDomain),"rDomain"in t&&e(28,_=t.rDomain),"xNice"in t&&e(29,A=t.xNice),"yNice"in t&&e(30,D=t.yNice),"zNice"in t&&e(31,j=t.zNice),"rNice"in t&&e(32,C=t.rNice),"xReverse"in t&&e(33,T=t.xReverse),"yReverse"in t&&e(34,I=t.yReverse),"zReverse"in t&&e(35,L=t.zReverse),"rReverse"in t&&e(36,q=t.rReverse),"xPadding"in t&&e(37,H=t.xPadding),"yPadding"in t&&e(38,O=t.yPadding),"zPadding"in t&&e(39,B=t.zPadding),"rPadding"in t&&e(40,W=t.rPadding),"xScale"in t&&e(41,G=t.xScale),"yScale"in t&&e(42,Y=t.yScale),"zScale"in t&&e(43,U=t.zScale),"rScale"in t&&e(44,V=t.rScale),"xRange"in t&&e(45,X=t.xRange),"yRange"in t&&e(46,Z=t.yRange),"zRange"in t&&e(47,Q=t.zRange),"rRange"in t&&e(48,J=t.rRange),"padding"in t&&e(49,K=t.padding),"extents"in t&&e(50,tt=t.extents),"flatData"in t&&e(51,at=t.flatData),"$$scope"in t&&e(53,f=t.$$scope)},t.$$.update=()=>{524288&t.$$.dirty[0]&&b&&(st.x=b),1048576&t.$$.dirty[0]&&w&&(st.y=w),2097152&t.$$.dirty[0]&&S&&(st.z=S),4194304&t.$$.dirty[0]&&M&&(st.r=M),33554432&t.$$.dirty[0]&&k&&(st.xDomain=k),67108864&t.$$.dirty[0]&&P&&(st.yDomain=P),134217728&t.$$.dirty[0]&&R&&(st.zDomain=R),268435456&t.$$.dirty[0]&&_&&(st.rDomain=_),16384&t.$$.dirty[1]&&X&&(st.xRange=X),32768&t.$$.dirty[1]&&Z&&(st.yRange=Z),65536&t.$$.dirty[1]&&Q&&(st.zRange=Q),131072&t.$$.dirty[1]&&J&&(st.rRange=J),65536&t.$$.dirty[0]&&ct.set(g),1&t.$$.dirty[0]&&lt.set(v),2&t.$$.dirty[0]&&ft.set($),524288&t.$$.dirty[0]&&pt.set(rt(b)),1048576&t.$$.dirty[0]&&ht.set(rt(w)),2097152&t.$$.dirty[0]&&dt.set(rt(S)),4194304&t.$$.dirty[0]&&gt.set(rt(M)),33554432&t.$$.dirty[0]&&vt.set(k),67108864&t.$$.dirty[0]&&$t.set(P),134217728&t.$$.dirty[0]&&xt.set(R),268435456&t.$$.dirty[0]&&bt.set(_),8388608&t.$$.dirty[0]&&yt.set(E),16777216&t.$$.dirty[0]&&mt.set(N),536870912&t.$$.dirty[0]&&wt.set(A),1073741824&t.$$.dirty[0]&&St.set(D),1&t.$$.dirty[1]&&Mt.set(j),2&t.$$.dirty[1]&&Et.set(C),4&t.$$.dirty[1]&&Nt.set(T),8&t.$$.dirty[1]&&kt.set(I),16&t.$$.dirty[1]&&zt.set(L),32&t.$$.dirty[1]&&Pt.set(q),64&t.$$.dirty[1]&&Rt.set(H),128&t.$$.dirty[1]&&_t.set(O),256&t.$$.dirty[1]&&Ft.set(B),512&t.$$.dirty[1]&&At.set(W),1024&t.$$.dirty[1]&&Dt.set(G),2048&t.$$.dirty[1]&&jt.set(Y),4096&t.$$.dirty[1]&&Ct.set(U),8192&t.$$.dirty[1]&&Tt.set(V),16384&t.$$.dirty[1]&&It.set(X),32768&t.$$.dirty[1]&&Lt.set(Z),65536&t.$$.dirty[1]&&qt.set(Q),131072&t.$$.dirty[1]&&Ht.set(J),262144&t.$$.dirty[1]&&Ot.set(K),524288&t.$$.dirty[1]&&Wt.set(it(tt)),16777216&t.$$.dirty[0]|1048576&t.$$.dirty[1]&&Bt.set(at||N),2097152&t.$$.dirty[1]&&function(t,n){z().$$.context.set(t,n)}("LayerCake",r)},e(52,r={activeGetters:Yt,width:Xt,height:Zt,percentRange:ct,aspectRatio:gn,containerWidth:lt,containerHeight:ft,x:pt,y:ht,z:dt,r:gt,custom:yt,data:mt,xNice:wt,yNice:St,zNice:Mt,rNice:Et,xReverse:Nt,yReverse:kt,zReverse:zt,rReverse:Pt,xPadding:Rt,yPadding:_t,zPadding:Ft,rPadding:At,padding:Ut,flatData:Bt,extents:Qt,xDomain:Jt,yDomain:Kt,zDomain:tn,rDomain:nn,xRange:fn,yRange:pn,zRange:hn,rRange:dn,config:Gt,xScale:en,xGet:rn,yScale:on,yGet:an,zScale:un,zGet:sn,rScale:cn,rGet:ln}),[v,$,x,p,h,d,i,o,a,s,c,lt,ft,Xt,Zt,gn,g,y,m,b,w,S,M,E,N,k,P,R,_,A,D,j,C,T,I,L,q,H,O,B,W,G,Y,U,V,X,Z,Q,J,K,tt,at,r,f,l,function(t){F[t?"unshift":"push"]((()=>{x=t,e(2,x)}))},function(){v=this.clientWidth,$=this.clientHeight,e(0,v),e(1,$)}]}class oe extends K{constructor(t){super(),J(this,t,ie,re,o,{ssr:3,pointerEvents:4,position:5,percentRange:16,width:17,height:18,containerWidth:0,containerHeight:1,element:2,x:19,y:20,z:21,r:22,custom:23,data:24,xDomain:25,yDomain:26,zDomain:27,rDomain:28,xNice:29,yNice:30,zNice:31,rNice:32,xReverse:33,yReverse:34,zReverse:35,rReverse:36,xPadding:37,yPadding:38,zPadding:39,rPadding:40,xScale:41,yScale:42,zScale:43,rScale:44,xRange:45,yRange:46,zRange:47,rRange:48,padding:49,extents:50,flatData:51},[-1,-1,-1,-1])}}const ae=t=>({element:1&t}),ue=t=>({element:t[0]});function se(t){let n,e,r;const i=t[8].default,o=s(i,t,t[7],ue);return{c(){n=g("div"),o&&o.c(),b(n,"class","layercake-layout-html svelte-1bu60uu"),b(n,"style",e="top: "+t[3].top+"px; right:"+t[3].right+"px; bottom:"+t[3].bottom+"px; left:"+t[3].left+"px;"+t[1]+t[2])},m(e,i){p(e,n,i),o&&o.m(n,null),t[9](n),r=!0},p(t,[a]){o&&o.p&&129&a&&l(o,i,t,t[7],a,ae,ue),(!r||14&a&&e!==(e="top: "+t[3].top+"px; right:"+t[3].right+"px; bottom:"+t[3].bottom+"px; left:"+t[3].left+"px;"+t[1]+t[2]))&&b(n,"style",e)},i(t){r||(Y(o,t),r=!0)},o(t){U(o,t),r=!1},d(e){e&&h(n),o&&o.d(e),t[9](null)}}}function ce(t,n,e){let r,{$$slots:i={},$$scope:o}=n,{element:a}=n,{zIndex:s}=n,{pointerEvents:c}=n,l="",f="";const{padding:p}=R("LayerCake");return u(t,p,(t=>e(3,r=t))),t.$$set=t=>{"element"in t&&e(0,a=t.element),"zIndex"in t&&e(5,s=t.zIndex),"pointerEvents"in t&&e(6,c=t.pointerEvents),"$$scope"in t&&e(7,o=t.$$scope)},t.$$.update=()=>{32&t.$$.dirty&&e(1,l=void 0!==s?`z-index:${s};`:""),64&t.$$.dirty&&e(2,f=!1===c?"pointer-events:none;":"")},[a,l,f,r,p,s,c,o,i,function(t){F[t?"unshift":"push"]((()=>{a=t,e(0,a)}))}]}class le extends K{constructor(t){super(),J(this,t,ce,se,o,{element:0,zIndex:5,pointerEvents:6})}}const fe=t=>({element:1&t}),pe=t=>({element:t[0]}),he=t=>({element:1&t}),de=t=>({element:t[0]});function ge(t){let n,e,r,i,o,a;const u=t[13].defs,c=s(u,t,t[12],de),d=t[13].default,g=s(d,t,t[12],pe);return{c(){n=y("svg"),e=y("defs"),c&&c.c(),r=y("g"),g&&g.c(),b(r,"class","layercake-layout-svg_g"),b(r,"transform",i="translate("+t[6].left+", "+t[6].top+")"),b(n,"class","layercake-layout-svg svelte-u84d8d"),b(n,"viewBox",t[1]),b(n,"width",t[4]),b(n,"height",t[5]),b(n,"style",o=""+(t[2]+t[3]))},m(i,o){p(i,n,o),f(n,e),c&&c.m(e,null),f(n,r),g&&g.m(r,null),t[14](n),a=!0},p(t,[e]){c&&c.p&&4097&e&&l(c,u,t,t[12],e,he,de),g&&g.p&&4097&e&&l(g,d,t,t[12],e,fe,pe),(!a||64&e&&i!==(i="translate("+t[6].left+", "+t[6].top+")"))&&b(r,"transform",i),(!a||2&e)&&b(n,"viewBox",t[1]),(!a||16&e)&&b(n,"width",t[4]),(!a||32&e)&&b(n,"height",t[5]),(!a||12&e&&o!==(o=""+(t[2]+t[3])))&&b(n,"style",o)},i(t){a||(Y(c,t),Y(g,t),a=!0)},o(t){U(c,t),U(g,t),a=!1},d(e){e&&h(n),c&&c.d(e),g&&g.d(e),t[14](null)}}}function ye(t,n,e){let r,i,o,{$$slots:a={},$$scope:s}=n,{element:c}=n,{viewBox:l}=n,{zIndex:f}=n,{pointerEvents:p}=n,h="",d="";const{containerWidth:g,containerHeight:y,padding:m}=R("LayerCake");return u(t,g,(t=>e(4,r=t))),u(t,y,(t=>e(5,i=t))),u(t,m,(t=>e(6,o=t))),t.$$set=t=>{"element"in t&&e(0,c=t.element),"viewBox"in t&&e(1,l=t.viewBox),"zIndex"in t&&e(10,f=t.zIndex),"pointerEvents"in t&&e(11,p=t.pointerEvents),"$$scope"in t&&e(12,s=t.$$scope)},t.$$.update=()=>{1024&t.$$.dirty&&e(2,h=void 0!==f?`z-index:${f};`:""),2048&t.$$.dirty&&e(3,d=!1===p?"pointer-events:none;":"")},[c,l,h,d,r,i,o,g,y,m,f,p,s,a,function(t){F[t?"unshift":"push"]((()=>{c=t,e(0,c)}))}]}class me extends K{constructor(t){super(),J(this,t,ye,ge,o,{element:0,viewBox:1,zIndex:10,pointerEvents:11})}}function ve(t){return t}function $e(t,n){var e=n.id,r=n.bbox,i=null==n.properties?{}:n.properties,o=function(t,n){var e=function(t){if(null==t)return ve;var n,e,r=t.scale[0],i=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,u){u||(n=e=0);var s=2,c=t.length,l=new Array(c);for(l[0]=(n+=t[0])*r+o,l[1]=(e+=t[1])*i+a;s<c;)l[s]=t[s],++s;return l}}(t.transform),r=t.arcs;function i(t,n){n.length&&n.pop();for(var i=r[t<0?~t:t],o=0,a=i.length;o<a;++o)n.push(e(i[o],o));t<0&&function(t,n){for(var e,r=t.length,i=r-n;i<--r;)e=t[i],t[i++]=t[r],t[r]=e}(n,a)}function o(t){return e(t)}function a(t){for(var n=[],e=0,r=t.length;e<r;++e)i(t[e],n);return n.length<2&&n.push(n[0]),n}function u(t){for(var n=a(t);n.length<4;)n.push(n[0]);return n}function s(t){return t.map(u)}function c(t){var n,e=t.type;switch(e){case"GeometryCollection":return{type:e,geometries:t.geometries.map(c)};case"Point":n=o(t.coordinates);break;case"MultiPoint":n=t.coordinates.map(o);break;case"LineString":n=a(t.arcs);break;case"MultiLineString":n=t.arcs.map(a);break;case"Polygon":n=s(t.arcs);break;case"MultiPolygon":n=t.arcs.map(s);break;default:return null}return{type:e,coordinates:n}}return c(n)}(t,n);return null==e&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:e,properties:i,geometry:o}:{type:"Feature",id:e,bbox:r,properties:i,geometry:o}}var xe=1e-6,be=Math.PI,we=be/2,Se=be/4,Me=2*be,Ee=180/be,Ne=be/180,ke=Math.abs,ze=Math.atan,Pe=Math.atan2,Re=Math.cos,_e=Math.exp,Fe=Math.log,Ae=Math.sin,De=Math.sign||function(t){return t>0?1:t<0?-1:0},je=Math.sqrt,Ce=Math.tan;function Te(t){return t>1?we:t<-1?-we:Math.asin(t)}function Ie(){}function Le(t,n){t&&He.hasOwnProperty(t.type)&&He[t.type](t,n)}var qe={Feature:function(t,n){Le(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)Le(e[r].geometry,n)}},He={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){Oe(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Oe(e[r],n,0)},Polygon:function(t,n){Be(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Be(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)Le(e[r],n)}};function Oe(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Be(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)Oe(t[e],n,1);n.polygonEnd()}function We(t,n){t&&qe.hasOwnProperty(t.type)?qe[t.type](t,n):Le(t,n)}function Ge(t){return[Pe(t[1],t[0]),Te(t[2])]}function Ye(t){var n=t[0],e=t[1],r=Re(e);return[r*Re(n),r*Ae(n),Ae(e)]}function Ue(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Ve(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Xe(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function Ze(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Qe(t){var n=je(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Je(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e}function Ke(t,n){return[ke(t)>be?t+Math.round(-t/Me)*Me:t,n]}function tr(t,n,e){return(t%=Me)?n||e?Je(er(t),rr(n,e)):er(t):n||e?rr(n,e):Ke}function nr(t){return function(n,e){return[(n+=t)>be?n-Me:n<-be?n+Me:n,e]}}function er(t){var n=nr(t);return n.invert=nr(-t),n}function rr(t,n){var e=Re(t),r=Ae(t),i=Re(n),o=Ae(n);function a(t,n){var a=Re(n),u=Re(t)*a,s=Ae(t)*a,c=Ae(n),l=c*e+u*r;return[Pe(s*i-l*o,u*e-c*r),Te(l*i+s*o)]}return a.invert=function(t,n){var a=Re(n),u=Re(t)*a,s=Ae(t)*a,c=Ae(n),l=c*i-s*o;return[Pe(s*i+c*o,u*e+l*r),Te(l*e-u*r)]},a}function ir(t,n){(n=Ye(n))[0]-=t,Qe(n);var e,r=(e=-n[1])>1?0:e<-1?be:Math.acos(e);return((-n[2]<0?-r:r)+Me-xe)%Me}function or(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:Ie,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}}function ar(t,n){return ke(t[0]-n[0])<xe&&ke(t[1]-n[1])<xe}function ur(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function sr(t,n,e,r,i){var o,a,u=[],s=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],a=t[n];if(ar(r,a)){if(!r[2]&&!a[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}a[0]+=2e-6}u.push(e=new ur(r,t,null,!0)),s.push(e.o=new ur(r,null,e,!1)),u.push(e=new ur(a,t,null,!1)),s.push(e.o=new ur(a,null,e,!0))}})),u.length){for(s.sort(n),cr(u),cr(s),o=0,a=s.length;o<a;++o)s[o].e=e=!e;for(var c,l,f=u[0];;){for(var p=f,h=!0;p.v;)if((p=p.n)===f)return;c=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(h)for(c=p.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(p.x,p.p.x,-1,i);p=p.p}c=(p=p.o).z,h=!h}while(!p.v);i.lineEnd()}}}function cr(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function lr(t){return ke(t[0])<=be?t[0]:De(t[0])*((ke(t[0])+be)%Me-be)}function fr(t,n,e,r){return function(i){var o,a,u,s=n(i),c=or(),l=n(c),f=!1,p={point:h,lineStart:g,lineEnd:y,polygonStart:function(){p.point=m,p.lineStart=v,p.lineEnd=$,a=[],o=[]},polygonEnd:function(){p.point=h,p.lineStart=g,p.lineEnd=y,a=yt(a);var t=function(t,n){var e=lr(n),r=n[1],i=Ae(r),o=[Ae(e),-Re(e),0],a=0,u=0,s=new ft;1===i?r=we+xe:-1===i&&(r=-we-xe);for(var c=0,l=t.length;c<l;++c)if(p=(f=t[c]).length)for(var f,p,h=f[p-1],d=lr(h),g=h[1]/2+Se,y=Ae(g),m=Re(g),v=0;v<p;++v,d=x,y=w,m=S,h=$){var $=f[v],x=lr($),b=$[1]/2+Se,w=Ae(b),S=Re(b),M=x-d,E=M>=0?1:-1,N=E*M,k=N>be,z=y*w;if(s.add(Pe(z*E*Ae(N),m*S+z*Re(N))),a+=k?M+E*Me:M,k^d>=e^x>=e){var P=Ve(Ye(h),Ye($));Qe(P);var R=Ve(o,P);Qe(R);var _=(k^M>=0?-1:1)*Te(R[2]);(r>_||r===_&&(P[0]||P[1]))&&(u+=k^M>=0?1:-1)}}return(a<-xe||a<xe&&s<-1e-12)^1&u}(o,r);a.length?(f||(i.polygonStart(),f=!0),sr(a,hr,t,e,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(n,e){t(n,e)&&i.point(n,e)}function d(t,n){s.point(t,n)}function g(){p.point=d,s.lineStart()}function y(){p.point=h,s.lineEnd()}function m(t,n){u.push([t,n]),l.point(t,n)}function v(){l.lineStart(),u=[]}function $(){m(u[0][0],u[0][1]),l.lineEnd();var t,n,e,r,s=l.clean(),p=c.result(),h=p.length;if(u.pop(),o.push(u),u=null,h)if(1&s){if((n=(e=p[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else h>1&&2&s&&p.push(p.pop().concat(p.shift())),a.push(p.filter(pr))}return p}}function pr(t){return t.length>1}function hr(t,n){return((t=t.x)[0]<0?t[1]-we-xe:we-t[1])-((n=n.x)[0]<0?n[1]-we-xe:we-n[1])}Ke.invert=Ke;var dr=fr((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,a){var u=o>0?be:-be,s=ke(o-e);ke(s-be)<xe?(t.point(e,r=(r+a)/2>0?we:-we),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),t.point(o,r),n=0):i!==u&&s>=be&&(ke(e-i)<xe&&(e-=i*xe),ke(o-u)<xe&&(o-=u*xe),r=function(t,n,e,r){var i,o,a=Ae(t-e);return ke(a)>xe?ze((Ae(n)*(o=Re(r))*Ae(e)-Ae(r)*(i=Re(n))*Ae(t))/(i*o*a)):(n+r)/2}(e,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(u,r),n=0),t.point(e=o,r=a),i=u},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*we,r.point(-be,i),r.point(0,i),r.point(be,i),r.point(be,0),r.point(be,-i),r.point(0,-i),r.point(-be,-i),r.point(-be,0),r.point(-be,i);else if(ke(t[0]-n[0])>xe){var o=t[0]<n[0]?be:-be;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-be,-we]);function gr(t){var n=Re(t),e=6*Ne,r=n>0,i=ke(n)>xe;function o(t,e){return Re(t)*Re(e)>n}function a(t,e,r){var i=[1,0,0],o=Ve(Ye(t),Ye(e)),a=Ue(o,o),u=o[0],s=a-u*u;if(!s)return!r&&t;var c=n*a/s,l=-n*u/s,f=Ve(i,o),p=Ze(i,c);Xe(p,Ze(o,l));var h=f,d=Ue(p,h),g=Ue(h,h),y=d*d-g*(Ue(p,p)-1);if(!(y<0)){var m=je(y),v=Ze(h,(-d-m)/g);if(Xe(v,p),v=Ge(v),!r)return v;var $,x=t[0],b=e[0],w=t[1],S=e[1];b<x&&($=x,x=b,b=$);var M=b-x,E=ke(M-be)<xe;if(!E&&S<w&&($=w,w=S,S=$),E||M<xe?E?w+S>0^v[1]<(ke(v[0]-x)<xe?w:S):w<=v[1]&&v[1]<=S:M>be^(x<=v[0]&&v[0]<=b)){var N=Ze(h,(-d+m)/g);return Xe(N,p),[v,Ge(N)]}}}function u(n,e){var i=r?t:be-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return fr(o,(function(t){var n,e,s,c,l;return{lineStart:function(){c=s=!1,l=1},point:function(f,p){var h,d=[f,p],g=o(f,p),y=r?g?0:u(f,p):g?u(f+(f<0?be:-be),p):0;if(!n&&(c=s=g)&&t.lineStart(),g!==s&&(!(h=a(n,d))||ar(n,h)||ar(d,h))&&(d[2]=1),g!==s)l=0,g?(t.lineStart(),h=a(d,n),t.point(h[0],h[1])):(h=a(n,d),t.point(h[0],h[1],2),t.lineEnd()),n=h;else if(i&&n&&r^g){var m;y&e||!(m=a(d,n,!0))||(l=0,r?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1],3)))}!g||n&&ar(n,d)||t.point(d[0],d[1]),n=d,s=g,e=y},lineEnd:function(){s&&t.lineEnd(),n=null},clean:function(){return l|(c&&s)<<1}}}),(function(n,r,i,o){!function(t,n,e,r,i,o){if(e){var a=Re(n),u=Ae(n),s=r*e;null==i?(i=n+r*Me,o=n-s/2):(i=ir(a,i),o=ir(a,o),(r>0?i<o:i>o)&&(i+=r*Me));for(var c,l=i;r>0?l>o:l<o;l-=s)c=Ge([a,-u*Re(l),-u*Ae(l)]),t.point(c[0],c[1])}}(o,t,e,i,n,r)}),r?[0,-t]:[-be,t-be])}var yr=1e9,mr=-yr;function vr(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,u,c){var l=0,f=0;if(null==i||(l=a(i,u))!==(f=a(o,u))||s(i,o)<0^u>0)do{c.point(0===l||3===l?t:e,l>1?r:n)}while((l=(l+u+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return ke(r[0]-t)<xe?i>0?0:3:ke(r[0]-e)<xe?i>0?2:1:ke(r[1]-n)<xe?i>0?1:0:i>0?3:2}function u(t,n){return s(t.x,n.x)}function s(t,n){var e=a(t,1),r=a(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(a){var s,c,l,f,p,h,d,g,y,m,v,$=a,x=or(),b={point:w,lineStart:function(){b.point=S,c&&c.push(l=[]);m=!0,y=!1,d=g=NaN},lineEnd:function(){s&&(S(f,p),h&&y&&x.rejoin(),s.push(x.result()));b.point=w,y&&$.lineEnd()},polygonStart:function(){$=x,s=[],c=[],v=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=c.length;e<i;++e)for(var o,a,u=c[e],s=1,l=u.length,f=u[0],p=f[0],h=f[1];s<l;++s)o=p,a=h,p=(f=u[s])[0],h=f[1],a<=r?h>r&&(p-o)*(r-a)>(h-a)*(t-o)&&++n:h<=r&&(p-o)*(r-a)<(h-a)*(t-o)&&--n;return n}(),e=v&&n,i=(s=yt(s)).length;(e||i)&&(a.polygonStart(),e&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&sr(s,u,n,o,a),a.polygonEnd());$=a,s=c=l=null}};function w(t,n){i(t,n)&&$.point(t,n)}function S(o,a){var u=i(o,a);if(c&&l.push([o,a]),m)f=o,p=a,h=u,m=!1,u&&($.lineStart(),$.point(o,a));else if(u&&y)$.point(o,a);else{var s=[d=Math.max(mr,Math.min(yr,d)),g=Math.max(mr,Math.min(yr,g))],x=[o=Math.max(mr,Math.min(yr,o)),a=Math.max(mr,Math.min(yr,a))];!function(t,n,e,r,i,o){var a,u=t[0],s=t[1],c=0,l=1,f=n[0]-u,p=n[1]-s;if(a=e-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-u,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-s,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<l&&(l=a)}else if(p>0){if(a>l)return;a>c&&(c=a)}if(a=o-s,p||!(a<0)){if(a/=p,p<0){if(a>l)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=u+c*f,t[1]=s+c*p),l<1&&(n[0]=u+l*f,n[1]=s+l*p),!0}}}}}(s,x,t,n,e,r)?u&&($.lineStart(),$.point(o,a),v=!1):(y||($.lineStart(),$.point(s[0],s[1])),$.point(x[0],x[1]),u||$.lineEnd(),v=!1)}d=o,g=a,y=u}return b}}var $r,xr,br,wr,Sr=t=>t,Mr=new ft,Er=new ft,Nr={point:Ie,lineStart:Ie,lineEnd:Ie,polygonStart:function(){Nr.lineStart=kr,Nr.lineEnd=Rr},polygonEnd:function(){Nr.lineStart=Nr.lineEnd=Nr.point=Ie,Mr.add(ke(Er)),Er=new ft},result:function(){var t=Mr/2;return Mr=new ft,t}};function kr(){Nr.point=zr}function zr(t,n){Nr.point=Pr,$r=br=t,xr=wr=n}function Pr(t,n){Er.add(wr*t-br*n),br=t,wr=n}function Rr(){Pr($r,xr)}var _r=1/0,Fr=_r,Ar=-_r,Dr=Ar,jr={point:function(t,n){t<_r&&(_r=t);t>Ar&&(Ar=t);n<Fr&&(Fr=n);n>Dr&&(Dr=n)},lineStart:Ie,lineEnd:Ie,polygonStart:Ie,polygonEnd:Ie,result:function(){var t=[[_r,Fr],[Ar,Dr]];return Ar=Dr=-(Fr=_r=1/0),t}};var Cr,Tr,Ir,Lr,qr=0,Hr=0,Or=0,Br=0,Wr=0,Gr=0,Yr=0,Ur=0,Vr=0,Xr={point:Zr,lineStart:Qr,lineEnd:ti,polygonStart:function(){Xr.lineStart=ni,Xr.lineEnd=ei},polygonEnd:function(){Xr.point=Zr,Xr.lineStart=Qr,Xr.lineEnd=ti},result:function(){var t=Vr?[Yr/Vr,Ur/Vr]:Gr?[Br/Gr,Wr/Gr]:Or?[qr/Or,Hr/Or]:[NaN,NaN];return qr=Hr=Or=Br=Wr=Gr=Yr=Ur=Vr=0,t}};function Zr(t,n){qr+=t,Hr+=n,++Or}function Qr(){Xr.point=Jr}function Jr(t,n){Xr.point=Kr,Zr(Ir=t,Lr=n)}function Kr(t,n){var e=t-Ir,r=n-Lr,i=je(e*e+r*r);Br+=i*(Ir+t)/2,Wr+=i*(Lr+n)/2,Gr+=i,Zr(Ir=t,Lr=n)}function ti(){Xr.point=Zr}function ni(){Xr.point=ri}function ei(){ii(Cr,Tr)}function ri(t,n){Xr.point=ii,Zr(Cr=Ir=t,Tr=Lr=n)}function ii(t,n){var e=t-Ir,r=n-Lr,i=je(e*e+r*r);Br+=i*(Ir+t)/2,Wr+=i*(Lr+n)/2,Gr+=i,Yr+=(i=Lr*t-Ir*n)*(Ir+t),Ur+=i*(Lr+n),Vr+=3*i,Zr(Ir=t,Lr=n)}function oi(t){this._context=t}oi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Me)}},result:Ie};var ai,ui,si,ci,li,fi=new ft,pi={point:Ie,lineStart:function(){pi.point=hi},lineEnd:function(){ai&&di(ui,si),pi.point=Ie},polygonStart:function(){ai=!0},polygonEnd:function(){ai=null},result:function(){var t=+fi;return fi=new ft,t}};function hi(t,n){pi.point=di,ui=ci=t,si=li=n}function di(t,n){ci-=t,li-=n,fi.add(je(ci*ci+li*li)),ci=t,li=n}function gi(){this._string=[]}function yi(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function mi(t){return function(n){var e=new vi;for(var r in t)e[r]=t[r];return e.stream=n,e}}function vi(){}function $i(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),We(e,t.stream(jr)),n(jr.result()),null!=r&&t.clipExtent(r),t}function xi(t,n,e){return $i(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),a=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,u=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([a,u])}),e)}gi.prototype={_radius:4.5,_circle:yi(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=yi(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},vi.prototype={constructor:vi,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var bi=Re(30*Ne);function wi(t,n){return+n?function(t,n){function e(r,i,o,a,u,s,c,l,f,p,h,d,g,y){var m=c-r,v=l-i,$=m*m+v*v;if($>4*n&&g--){var x=a+p,b=u+h,w=s+d,S=je(x*x+b*b+w*w),M=Te(w/=S),E=ke(ke(w)-1)<xe||ke(o-f)<xe?(o+f)/2:Pe(b,x),N=t(E,M),k=N[0],z=N[1],P=k-r,R=z-i,_=v*P-m*R;(_*_/$>n||ke((m*P+v*R)/$-.5)>.3||a*p+u*h+s*d<bi)&&(e(r,i,o,a,u,s,k,z,E,x/=S,b/=S,w,g,y),y.point(k,z),e(k,z,E,x,b,w,c,l,f,p,h,d,g,y))}}return function(n){var r,i,o,a,u,s,c,l,f,p,h,d,g={point:y,lineStart:m,lineEnd:$,polygonStart:function(){n.polygonStart(),g.lineStart=x},polygonEnd:function(){n.polygonEnd(),g.lineStart=m}};function y(e,r){e=t(e,r),n.point(e[0],e[1])}function m(){l=NaN,g.point=v,n.lineStart()}function v(r,i){var o=Ye([r,i]),a=t(r,i);e(l,f,c,p,h,d,l=a[0],f=a[1],c=r,p=o[0],h=o[1],d=o[2],16,n),n.point(l,f)}function $(){g.point=y,n.lineEnd()}function x(){m(),g.point=b,g.lineEnd=w}function b(t,n){v(r=t,n),i=l,o=f,a=p,u=h,s=d,g.point=v}function w(){e(l,f,c,p,h,d,i,o,r,a,u,s,16,n),g.lineEnd=$,$()}return g}}(t,n):function(t){return mi({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)}var Si=mi({point:function(t,n){this.stream.point(t*Ne,n*Ne)}});function Mi(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,a){return[n+t*(o*=r),e-t*(a*=i)]}return o.invert=function(o,a){return[(o-n)/t*r,(e-a)/t*i]},o}(t,n,e,r,i);var a=Re(o),u=Ae(o),s=a*t,c=u*t,l=a/t,f=u/t,p=(u*e-a*n)/t,h=(u*n+a*e)/t;function d(t,o){return[s*(t*=r)-c*(o*=i)+n,e-c*t-s*o]}return d.invert=function(t,n){return[r*(l*t-f*n+p),i*(h-f*t-l*n)]},d}function Ei(t){return function(t){var n,e,r,i,o,a,u,s,c,l,f=150,p=480,h=250,d=0,g=0,y=0,m=0,v=0,$=0,x=1,b=1,w=null,S=dr,M=null,E=Sr,N=.5;function k(t){return s(t[0]*Ne,t[1]*Ne)}function z(t){return(t=s.invert(t[0],t[1]))&&[t[0]*Ee,t[1]*Ee]}function P(){var t=Mi(f,0,0,x,b,$).apply(null,n(d,g)),r=Mi(f,p-t[0],h-t[1],x,b,$);return e=tr(y,m,v),u=Je(n,r),s=Je(e,u),a=wi(u,N),R()}function R(){return c=l=null,k}return k.stream=function(t){return c&&l===t?c:c=Si(function(t){return mi({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(S(a(E(l=t)))))},k.preclip=function(t){return arguments.length?(S=t,w=void 0,R()):S},k.postclip=function(t){return arguments.length?(E=t,M=r=i=o=null,R()):E},k.clipAngle=function(t){return arguments.length?(S=+t?gr(w=t*Ne):(w=null,dr),R()):w*Ee},k.clipExtent=function(t){return arguments.length?(E=null==t?(M=r=i=o=null,Sr):vr(M=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),R()):null==M?null:[[M,r],[i,o]]},k.scale=function(t){return arguments.length?(f=+t,P()):f},k.translate=function(t){return arguments.length?(p=+t[0],h=+t[1],P()):[p,h]},k.center=function(t){return arguments.length?(d=t[0]%360*Ne,g=t[1]%360*Ne,P()):[d*Ee,g*Ee]},k.rotate=function(t){return arguments.length?(y=t[0]%360*Ne,m=t[1]%360*Ne,v=t.length>2?t[2]%360*Ne:0,P()):[y*Ee,m*Ee,v*Ee]},k.angle=function(t){return arguments.length?($=t%360*Ne,P()):$*Ee},k.reflectX=function(t){return arguments.length?(x=t?-1:1,P()):x<0},k.reflectY=function(t){return arguments.length?(b=t?-1:1,P()):b<0},k.precision=function(t){return arguments.length?(a=wi(u,N=t*t),R()):je(N)},k.fitExtent=function(t,n){return xi(k,t,n)},k.fitSize=function(t,n){return function(t,n,e){return xi(t,[[0,0],n],e)}(k,t,n)},k.fitWidth=function(t,n){return function(t,n,e){return $i(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,a=-i*e[0][1];t.scale(150*i).translate([o,a])}),e)}(k,t,n)},k.fitHeight=function(t,n){return function(t,n,e){return $i(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],a=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,a])}),e)}(k,t,n)},function(){return n=t.apply(this,arguments),k.invert=n.invert&&z,P()}}((function(){return t}))()}function Ni(t,n){return[t,Fe(Ce((we+n)/2))]}function ki(){return function(t){var n,e,r,i=Ei(t),o=i.center,a=i.scale,u=i.translate,s=i.clipExtent,c=null;function l(){var o=be*a(),u=i(function(t){function n(n){return(n=t(n[0]*Ne,n[1]*Ne))[0]*=Ee,n[1]*=Ee,n}return t=tr(t[0]*Ne,t[1]*Ne,t.length>2?t[2]*Ne:0),n.invert=function(n){return(n=t.invert(n[0]*Ne,n[1]*Ne))[0]*=Ee,n[1]*=Ee,n},n}(i.rotate()).invert([0,0]));return s(null==c?[[u[0]-o,u[1]-o],[u[0]+o,u[1]+o]]:t===Ni?[[Math.max(u[0]-o,c),n],[Math.min(u[0]+o,e),r]]:[[c,Math.max(u[1]-o,n)],[e,Math.min(u[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(u(t),l()):u()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=n=e=r=null:(c=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,n],[e,r]]},l()}(Ni).scale(961/Me)}function zi(t,n,e){const r=t.slice();return r[21]=n[e],r}function Pi(t,n,e){const r=t.slice();return r[21]=n[e],r}function Ri(t){let n,e,r;return{c(){n=y("path"),b(n,"class","feature-path svelte-bq7tki"),b(n,"fill",e=t[4](t[21])),b(n,"stroke",t[2]),b(n,"stroke-width",t[3]),b(n,"d",r=t[5](t[21]))},m(t,e){p(t,n,e)},p(t,i){17&i&&e!==(e=t[4](t[21]))&&b(n,"fill",e),4&i&&b(n,"stroke",t[2]),8&i&&b(n,"stroke-width",t[3]),33&i&&r!==(r=t[5](t[21]))&&b(n,"d",r)},d(t){t&&h(n)}}}function _i(t){let n,e=t[0],r=[];for(let n=0;n<e.length;n+=1)r[n]=Fi(zi(t,e,n));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();n=$()},m(t,e){for(let n=0;n<r.length;n+=1)r[n].m(t,e);p(t,n,e)},p(t,i){if(33&i){let o;for(e=t[0],o=0;o<e.length;o+=1){const a=zi(t,e,o);r[o]?r[o].p(a,i):(r[o]=Fi(a),r[o].c(),r[o].m(n.parentNode,n))}for(;o<r.length;o+=1)r[o].d(1);r.length=e.length}},d(t){d(r,t),t&&h(n)}}}function Fi(t){let n,e,r,i=t[21].properties.name+"";return{c(){n=y("text"),e=m(i),b(n,"transform",r="translate("+t[5].centroid(t[21])+")"),b(n,"class","svelte-bq7tki")},m(t,r){p(t,n,r),f(n,e)},p(t,o){1&o&&i!==(i=t[21].properties.name+"")&&w(e,i),33&o&&r!==(r="translate("+t[5].centroid(t[21])+")")&&b(n,"transform",r)},d(t){t&&h(n)}}}function Ai(n){let e,r,i,o,a=n[0],u=[];for(let t=0;t<a.length;t+=1)u[t]=Ri(Pi(n,a,t));let s="day3"===n[1]&&_i(n);return{c(){e=y("g");for(let t=0;t<u.length;t+=1)u[t].c();r=$(),s&&s.c(),b(e,"class","map-group")},m(t,a){p(t,e,a);for(let t=0;t<u.length;t+=1)u[t].m(e,null);f(e,r),s&&s.m(e,null),i||(o=x(e,"mouseout",n[19]),i=!0)},p(t,[n]){if(61&n){let i;for(a=t[0],i=0;i<a.length;i+=1){const o=Pi(t,a,i);u[i]?u[i].p(o,n):(u[i]=Ri(o),u[i].c(),u[i].m(e,r))}for(;i<u.length;i+=1)u[i].d(1);u.length=a.length}"day3"===t[1]?s?s.p(t,n):(s=_i(t),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},i:t,o:t,d(t){t&&h(e),d(u,t),s&&s.d(),i=!1,o()}}}function Di(t,n,e){let r,i,o,a,s,c,l;const{data:f,width:p,height:h,zGet:d}=R("LayerCake");u(t,f,(t=>e(14,s=t))),u(t,p,(t=>e(16,c=t))),u(t,h,(t=>e(17,l=t)));let{override:g}=n,{highlight:y=[]}=n,{projection:m}=n,{fixedAspectRatio:v}=n,{fill:$}=n,{stroke:x="#333"}=n,{strokeWidth:b=.5}=n,{features:w=s.features}=n;const S=P();"day3"===g&&($="#fff");return t.$$set=t=>{"override"in t&&e(1,g=t.override),"highlight"in t&&e(11,y=t.highlight),"projection"in t&&e(12,m=t.projection),"fixedAspectRatio"in t&&e(13,v=t.fixedAspectRatio),"fill"in t&&e(10,$=t.fill),"stroke"in t&&e(2,x=t.stroke),"strokeWidth"in t&&e(3,b=t.strokeWidth),"features"in t&&e(0,w=t.features)},t.$$.update=()=>{2048&t.$$.dirty&&e(4,r=function(t){return y.indexOf(t.properties.name)>-1?"#f8f6f0":"#fff"}),204800&t.$$.dirty&&e(15,i=v?[100,100/v]:[c,l]),53248&t.$$.dirty&&e(18,o=m.fitSize(i,s)),262144&t.$$.dirty&&e(5,a=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),We(t,e(r))),r.result()}return o.area=function(t){return We(t,e(Nr)),Nr.result()},o.measure=function(t){return We(t,e(pi)),pi.result()},o.bounds=function(t){return We(t,e(jr)),jr.result()},o.centroid=function(t){return We(t,e(Xr)),Xr.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Sr):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new gi):new oi(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)}(o)),16384&t.$$.dirty&&e(0,w=s.features)},[w,g,x,b,r,a,f,p,h,S,$,y,m,v,s,i,c,l,o,t=>S("mouseout")]}Ni.invert=function(t,n){return[t,2*ze(_e(n))-we]};class ji extends K{constructor(t){super(),J(this,t,Di,Ai,o,{override:1,highlight:11,projection:12,fixedAspectRatio:13,fill:10,stroke:2,strokeWidth:3,features:0})}}const Ci=t=>({detail:1&t}),Ti=t=>({detail:t[0].detail});function Ii(t){let n,e;const r=t[3].default,i=s(r,t,t[2],Ti);return{c(){n=g("div"),i&&i.c(),b(n,"class","tooltip svelte-tbh15h"),S(n,"top",t[0].detail.e.layerY-t[1]+"px"),S(n,"left",t[0].detail.e.layerX+"px")},m(t,r){p(t,n,r),i&&i.m(n,null),e=!0},p(t,o){i&&i.p&&5&o&&l(i,r,t,t[2],o,Ci,Ti),(!e||3&o)&&S(n,"top",t[0].detail.e.layerY-t[1]+"px"),(!e||1&o)&&S(n,"left",t[0].detail.e.layerX+"px")},i(t){e||(Y(i,t),e=!0)},o(t){U(i,t),e=!1},d(t){t&&h(n),i&&i.d(t)}}}function Li(t){let n,e,r=t[0].detail&&Ii(t);return{c(){r&&r.c(),n=$()},m(t,i){r&&r.m(t,i),p(t,n,i),e=!0},p(t,[e]){t[0].detail?r?(r.p(t,e),1&e&&Y(r,1)):(r=Ii(t),r.c(),Y(r,1),r.m(n.parentNode,n)):r&&(W(),U(r,1,1,(()=>{r=null})),G())},i(t){e||(Y(r),e=!0)},o(t){U(r),e=!1},d(t){r&&r.d(t),t&&h(n)}}}function qi(t,n,e){let{$$slots:r={},$$scope:i}=n,{evt:o={}}=n,{offset:a=35}=n;return t.$$set=t=>{"evt"in t&&e(0,o=t.evt),"offset"in t&&e(1,a=t.offset),"$$scope"in t&&e(2,i=t.$$scope)},[o,a,i,r]}class Hi extends K{constructor(t){super(),J(this,t,qi,Li,o,{evt:0,offset:1})}}function Oi(n){let e;return{c(){e=g("div"),b(e,"id",n[0])},m(t,n){p(t,e,n)},p:t,i:t,o:t,d(t){t&&h(e)}}}var Bi=document.createElement("script");Bi.src="https://www.youtube.com/iframe_api";var Wi=document.getElementsByTagName("script")[0];function Gi(t,n,e){let r,{videoId:i}=n,o="player_"+parseInt(109999*Math.random());const a=P();function u({data:t}){a("PlayerStateChange",t),console.log(t);let n="";-1==t&&(n="(unstarted)"),0==t&&(n="(ended)"),1==t&&(n="(playing)"),2==t&&(n="(paused)"),3==t&&(n="(buffering)"),5==t&&(n="(video cued)."),a("PlayerStateChangeString",n)}function s(){a("Ready"),r.seekTo(197),setInterval((()=>{a("currentPlayTime",r.getCurrentTime())}),1e3)}return window.addEventListener("iframeApiReady",(function(t){r=new YT.Player(o,{height:"245",width:"320",videoId:i,events:{onReady:s,onStateChange:u}}),console.log("yo",o,r)})),t.$$set=t=>{"videoId"in t&&e(1,i=t.videoId)},[o,i,function(){r.playVideo()}]}Wi.parentNode.insertBefore(Bi,Wi),window.onYouTubeIframeAPIReady=()=>window.dispatchEvent(new Event("iframeApiReady"));class Yi extends K{constructor(t){super(),J(this,t,Gi,Oi,o,{videoId:1,play:2})}get play(){return this.$$.ctx[2]}}var Ui={type:"Topology",arcs:[[[1580,2072],[268,9],[-8,-54],[32,-25],[11,-62],[12,-43],[-14,-35],[25,-50],[-19,-4],[-17,-26],[3,-10],[-29,-11],[-11,29],[-53,-8],[-21,-26],[-28,18],[-83,-23],[-62,119],[-6,202]],[[0,3013],[347,243],[306,-160],[-363,-297],[-290,214]],[[821,1980],[31,11],[21,-5],[9,52],[16,19],[34,-26],[6,-26],[-36,-55],[-4,-10],[21,-35],[7,-2],[-7,23],[5,4],[34,-22],[7,22],[19,-13],[38,27],[17,-1],[-17,-25],[-11,-27],[30,-59],[16,14],[9,1],[-8,-30],[-5,-23],[5,-4],[-9,-18],[5,-19],[-12,-8],[10,-15],[-23,13],[-24,-8],[-8,3],[-16,-9],[-17,24],[-16,-1],[-7,-13],[21,-26],[-29,-39],[40,11],[10,-49],[-32,-44],[-49,-27],[-81,41],[-8,11],[18,28],[-2,10],[15,39],[-10,41],[-7,6],[13,24],[-14,17],[0,14],[0,10],[-7,6],[1,15],[14,-5],[15,16],[3,13],[15,2],[13,21],[4,10],[-7,21],[-4,6],[-20,-8],[14,21],[-8,10],[-12,17],[-1,8],[-5,4],[4,8],[-8,8],[-7,-4],[-9,5]],[[1564,2455],[97,8],[3,-17],[-6,-21],[9,-26],[108,-70],[36,-32],[-234,-6],[-18,114],[5,50]],[[631,2506],[399,350],[241,-52],[6,-418],[-372,12],[-274,108]],[[1558,2815],[56,2],[13,-356],[-29,-3],[-37,-2],[0,-53],[-3,412]],[[106,2933],[266,-211],[74,-281],[-277,40],[-63,452]],[[1210,2388],[348,8],[25,-329],[-350,-15],[-19,154],[-4,182]],[[549,1876],[-330,-9],[-54,614],[281,-37],[54,-229],[49,-339]],[[784,1123],[149,7],[25,-22],[-25,-22],[10,-18],[25,-12],[19,8],[28,-19],[18,-22],[19,-11],[44,0],[0,-30],[25,-8],[3,-52],[22,-19],[50,-42],[-10,-58],[-6,-46],[0,-62],[-3,-87],[-25,-107],[-41,-28],[-43,24],[-22,-12],[-25,16],[-116,0],[-121,24],[0,598]],[[545,1357],[-320,10],[-8,500],[334,9],[2,-32],[9,-3],[-17,-10],[14,-16],[28,0],[-2,-10],[-20,-6],[0,-13],[-16,-15],[0,-22],[24,-14],[17,-9],[41,7],[1,-10],[-19,-3],[-15,-32],[-5,-12],[-25,-30],[-3,-8],[27,12],[-22,-22],[0,-12],[-5,-9],[-36,-5],[0,-11],[16,-2],[20,5],[-33,-29],[5,-14],[14,-6],[27,10],[-32,-36],[-1,-162]],[[1211,2388],[5,-186],[-103,-11],[31,74],[-9,25],[-103,4],[-56,-21],[25,39],[-21,0],[71,60],[-2,18],[162,-2]],[[840,2212],[-337,18],[-125,482],[256,-200],[276,-117],[-26,-55],[9,-21],[-33,-13],[-5,-33],[11,-31],[-26,-30]],[[225,1366],[318,-7],[244,-16],[-3,-215],[-553,28],[-8,218],[2,-8]],[[1230,2050],[350,20],[4,-202],[-243,-16],[-111,198]],[[1260,1842],[326,31],[61,-120],[-39,-25],[-11,-50],[-203,-17],[-39,35],[-50,2],[-8,-17],[-8,-1],[-15,11],[23,32],[-26,41],[0,13],[14,2],[-28,41],[3,22]],[[1302,1425],[25,16],[12,-3],[5,17],[19,7],[6,17],[111,4],[-33,-26],[-51,-18],[-19,-12],[6,-77],[-81,75]],[[290,2794],[369,304],[378,-239],[-409,-347],[-338,282]],[[788,1343],[13,256],[15,0],[2,12],[83,-43],[0,-20],[-2,-14],[19,-8],[39,15],[16,-5],[-7,-17],[25,-4],[31,-20],[57,24],[-19,-17],[-3,-28],[-47,3],[-42,-8],[8,-14],[-25,-2],[-2,-28],[-33,-35],[-7,-12],[-5,-16],[-20,-12],[-16,-14],[-80,7]],[[1371,1481],[-4,10],[-32,0],[-8,14],[-19,2],[17,12],[16,31],[16,5],[6,12],[18,30],[8,17],[-1,44],[210,18],[-1,-40],[-27,-54],[-34,-41],[-22,-41],[-29,-17],[-114,-2]],[[503,2221],[329,-7],[11,-6],[19,6],[-10,-33],[-18,-3],[-11,-51],[-3,-16],[45,19],[0,-49],[-6,-90],[-80,-17],[-6,11],[-21,9],[-70,-28],[-11,-19],[0,-19],[-28,-20],[41,-12],[-1,-12],[-28,-16],[8,-11],[-32,3],[-8,-16],[-8,19],[-38,1],[-8,-10],[-13,6],[-53,361]],[[231,359],[418,-29],[-12,-24],[0,-29],[12,-50],[0,-54],[-3,-29],[-3,-34],[-6,-46],[-16,-38],[-9,-26],[-403,38],[22,321]],[[553,1517],[42,22],[-8,-12],[-8,-25],[24,13],[18,-5],[16,0],[11,11],[26,5],[5,22],[31,10],[3,12],[21,7],[4,14],[38,3],[22,7],[-11,-257],[-239,16],[5,157]],[[1230,2050],[106,-201],[-75,-7],[-43,52],[-33,14],[-28,108],[73,34]],[[1577,2293],[232,7],[72,-83],[-33,-41],[-4,-93],[-263,-9],[-12,220],[8,-1]],[[788,1343],[75,-6],[0,-8],[8,-6],[9,16],[14,-3],[11,-16],[5,10],[-1,11],[17,11],[9,12],[16,2],[23,0],[14,-4],[17,-7],[14,-183],[-7,-13],[-15,2],[-1,-13],[-13,13],[-17,-9],[-15,0],[-24,-20],[2,-9],[-145,4],[4,216]],[[1277,2809],[275,3],[9,-411],[-281,-15],[-3,423]],[[637,322],[-406,41],[-6,804],[559,-33],[-7,-617],[-21,4],[-35,16],[-40,-24],[0,-20],[-63,-16],[-3,-37],[16,-20],[6,-24],[3,-49],[-3,-25]],[[1008,1350],[11,32],[8,15],[17,14],[27,4],[28,-18],[0,11],[26,-7],[7,-117],[6,-34],[19,-25],[1,-35],[0,-18],[11,-29],[-28,-2],[-8,17],[-23,-13],[-8,9],[-25,-18],[-30,45],[-26,-11],[-13,180]],[[1133,1286],[-1,111],[0,13],[37,7],[30,3],[19,-3],[26,3],[9,5],[35,-8],[15,10],[77,-81],[-16,-23],[-31,-16],[-14,0],[-31,-23],[-14,-29],[12,-9],[-29,-21],[-18,12],[-42,9],[-6,-7],[-12,18],[4,16],[-11,11],[-15,-9],[-24,11]],[[1214,2199],[15,-149],[-71,-34],[-45,51],[-42,17],[-24,-15],[-18,12],[45,19],[6,14],[-11,7],[3,11],[41,58],[101,9]]],transform:{scale:[.014075872655430217,.007948742787562774],translate:[-17.885742187499996,39.50404070558415]},objects:{shipping_forecast:{type:"GeometryCollection",geometries:[{arcs:[[0]],type:"Polygon",properties:{name:"German Bight",group:"Shipping Forecast"}},{arcs:[[1]],type:"Polygon",properties:{name:"South East Iceland",group:"Shipping Forecast"}},{arcs:[[2]],type:"Polygon",properties:{name:"Irish Sea",group:"Shipping Forecast"}},{arcs:[[3]],type:"Polygon",properties:{name:"South Utsire",group:"Shipping Forecast"}},{arcs:[[4]],type:"Polygon",properties:{name:"Fair Isle",group:"Shipping Forecast"}},{arcs:[[5]],type:"Polygon",properties:{name:"North Utsire",group:"Shipping Forecast"}},{arcs:[[6]],type:"Polygon",properties:{name:"Bailey",group:"Shipping Forecast"}},{arcs:[[7]],type:"Polygon",properties:{name:"Forties",group:"Shipping Forecast"}},{arcs:[[8]],type:"Polygon",properties:{name:"Rockall",group:"Shipping Forecast"}},{arcs:[[9]],type:"Polygon",properties:{name:"Biscay",group:"Shipping Forecast"}},{arcs:[[10]],type:"Polygon",properties:{name:"Shannon",group:"Shipping Forecast"}},{arcs:[[11]],type:"Polygon",properties:{name:"Cromarty",group:"Shipping Forecast"}},{arcs:[[12]],type:"Polygon",properties:{name:"Hebrides",group:"Shipping Forecast"}},{arcs:[[13]],type:"Polygon",properties:{name:"Sole",group:"Shipping Forecast"}},{arcs:[[14]],type:"Polygon",properties:{name:"Dogger",group:"Shipping Forecast"}},{arcs:[[15]],type:"Polygon",properties:{name:"Humber",group:"Shipping Forecast"}},{arcs:[[16]],type:"Polygon",properties:{name:"Dover",group:"Shipping Forecast"}},{arcs:[[17]],type:"Polygon",properties:{name:"Faeroes",group:"Shipping Forecast"}},{arcs:[[18]],type:"Polygon",properties:{name:"Lundy",group:"Shipping Forecast"}},{arcs:[[19]],type:"Polygon",properties:{name:"Thames",group:"Shipping Forecast"}},{arcs:[[20]],type:"Polygon",properties:{name:"Malin",group:"Shipping Forecast"}},{arcs:[[21]],type:"Polygon",properties:{name:"Trafalgar",group:"Shipping Forecast"}},{arcs:[[22]],type:"Polygon",properties:{name:"Fastnet",group:"Shipping Forecast"}},{arcs:[[23]],type:"Polygon",properties:{name:"Tyne",group:"Shipping Forecast"}},{arcs:[[24]],type:"Polygon",properties:{name:"Fisher",group:"Shipping Forecast"}},{arcs:[[25]],type:"Polygon",properties:{name:"Plymouth",group:"Shipping Forecast"}},{arcs:[[26]],type:"Polygon",properties:{name:"Viking",group:"Shipping Forecast"}},{arcs:[[27]],type:"Polygon",properties:{name:"Fitzroy",group:"Shipping Forecast"}},{arcs:[[28]],type:"Polygon",properties:{name:"Portland",group:"Shipping Forecast"}},{arcs:[[29]],type:"Polygon",properties:{name:"Wight",group:"Shipping Forecast"}},{arcs:[[30]],type:"Polygon",properties:{name:"Forth",group:"Shipping Forecast"}}]}}};function Vi(t){let n,e;return n=new ji({props:{projection:t[7],override:"day3",highlight:t[5]?t[5][1]:[]}}),n.$on("mousemove",t[14]),n.$on("mouseout",t[15]),{c(){V(n.$$.fragment)},m(t,r){X(n,t,r),e=!0},p(t,e){const r={};32&e&&(r.highlight=t[5]?t[5][1]:[]),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){U(n.$$.fragment,t),e=!1},d(t){Z(n,t)}}}function Xi(t){let n,e;return n=new Hi({props:{evt:t[2],$$slots:{default:[Zi,({detail:t})=>({19:t}),({detail:t})=>t?524288:0]},$$scope:{ctx:t}}}),{c(){V(n.$$.fragment)},m(t,r){X(n,t,r),e=!0},p(t,e){const r={};4&e&&(r.evt=t[2]),1572864&e&&(r.$$scope={dirty:e,ctx:t}),n.$set(r)},i(t){e||(Y(n.$$.fragment,t),e=!0)},o(t){U(n.$$.fragment,t),e=!1},d(t){Z(n,t)}}}function Zi(t){let n,e,r=t[19].props.name+"";return{c(){n=g("div"),e=m(r),b(n,"class","row")},m(t,r){p(t,n,r),f(n,e)},p(t,n){524288&n&&r!==(r=t[19].props.name+"")&&w(e,r)},d(t){t&&h(n)}}}function Qi(t){let n,e,r=!0!==t[3]&&Xi(t);return{c(){r&&r.c(),n=$()},m(t,i){r&&r.m(t,i),p(t,n,i),e=!0},p(t,e){!0!==t[3]?r?(r.p(t,e),8&e&&Y(r,1)):(r=Xi(t),r.c(),Y(r,1),r.m(n.parentNode,n)):r&&(W(),U(r,1,1,(()=>{r=null})),G())},i(t){e||(Y(r),e=!0)},o(t){U(r),e=!1},d(t){r&&r.d(t),t&&h(n)}}}function Ji(t){let n,e,r,i;return n=new me({props:{$$slots:{default:[Vi]},$$scope:{ctx:t}}}),r=new le({props:{pointerEvents:!1,$$slots:{default:[Qi]},$$scope:{ctx:t}}}),{c(){V(n.$$.fragment),e=v(),V(r.$$.fragment)},m(t,o){X(n,t,o),p(t,e,o),X(r,t,o),i=!0},p(t,e){const i={};1048620&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i);const o={};1048588&e&&(o.$$scope={dirty:e,ctx:t}),r.$set(o)},i(t){i||(Y(n.$$.fragment,t),Y(r.$$.fragment,t),i=!0)},o(t){U(n.$$.fragment,t),U(r.$$.fragment,t),i=!1},d(t){Z(n,t),t&&h(e),Z(r,t)}}}function Ki(t){let n,e,r,i,o,a,u,s,c,l,d,y,$,S,M,E,N,k,z,P,R,_,F,A,D,j,C,T,I,L,q=t[1].toFixed(0)+"",H=0===t[1]?"Loading...":"Play",O=(t[5]?t[5][1].join(", "):"")+"";return d=new Yi({props:{videoId:"HnQ2Lk20n3U"}}),t[10](d),d.$on("PlayerStateChangeString",t[11]),d.$on("currentPlayTime",t[12]),F=new oe({props:{data:t[6],z:to,zScale:On(),zRange:t[9],flatData:t[8],$$slots:{default:[Ji]},$$scope:{ctx:t}}}),{c(){n=g("h2"),n.textContent="Shipping forecast map",e=v(),r=g("div"),i=g("details"),o=g("summary"),a=m("Show video ("),u=m(q),s=m("s)"),c=v(),l=g("div"),V(d.$$.fragment),y=g("br"),$=v(),S=g("button"),M=m(H),N=v(),k=g("div"),z=m("Showing: "),P=m(O),R=v(),_=g("div"),V(F.$$.fragment),A=v(),D=g("div"),D.innerHTML='Source: map - <a href="https://github.com/glynnbird/shippingforecastgeojson" target="_new">glynnbird</a>, BBC/Youtube<br/>\nNote: The recording is from 1993, and Finisterre was renamed FitzRoy in 2002',j=v(),C=g("span"),C.innerHTML='<a href="https://grandstanding.github.io" target="_new">gsg</a>',b(n,"class","svelte-hqeonh"),b(o,"class","svelte-hqeonh"),b(i,"class","svelte-hqeonh"),S.disabled=E=0===t[1],b(S,"class","svelte-hqeonh"),b(k,"class","stage svelte-hqeonh"),b(_,"class","chart-container svelte-hqeonh"),b(r,"class","map svelte-hqeonh"),b(D,"class","source svelte-hqeonh"),b(C,"class","logo")},m(h,g){p(h,n,g),p(h,e,g),p(h,r,g),f(r,i),f(i,o),f(o,a),f(o,u),f(o,s),f(i,c),f(i,l),X(d,l,null),f(l,y),f(r,$),f(r,S),f(S,M),f(r,N),f(r,k),f(k,z),f(k,P),f(r,R),f(r,_),X(F,_,null),p(h,A,g),p(h,D,g),p(h,j,g),p(h,C,g),T=!0,I||(L=x(S,"click",t[13]),I=!0)},p(t,[n]){(!T||2&n)&&q!==(q=t[1].toFixed(0)+"")&&w(u,q);d.$set({}),(!T||2&n)&&H!==(H=0===t[1]?"Loading...":"Play")&&w(M,H),(!T||2&n&&E!==(E=0===t[1]))&&(S.disabled=E),(!T||32&n)&&O!==(O=(t[5]?t[5][1].join(", "):"")+"")&&w(P,O);const e={};1048620&n&&(e.$$scope={dirty:n,ctx:t}),F.$set(e)},i(t){T||(Y(d.$$.fragment,t),Y(F.$$.fragment,t),T=!0)},o(t){U(d.$$.fragment,t),U(F.$$.fragment,t),T=!1},d(i){i&&h(n),i&&h(e),i&&h(r),t[10](null),Z(d),Z(F),i&&h(A),i&&h(D),i&&h(j),i&&h(C),I=!1,L()}}}const to="FOO";function no(t,n,e){let r;const i=new Map,o=(a=Ui,"string"==typeof(u=Ui.objects.shipping_forecast)&&(u=a.objects[u]),"GeometryCollection"===u.type?{type:"FeatureCollection",features:u.geometries.map((function(t){return $e(a,t)}))}:$e(a,u));var a,u;const s=ki();let c;o.features.forEach((t=>{Object.assign(t.properties,i.get(t.properties.name))}));let l=!0;const f=o.features.map((t=>t.properties)),p=["#66907D","#88C0A7","#AAF0D1","#BBF3DA","#CCF6E3","#DDF9ED"].reverse();Pn(",");let h,d,g=0,y=[[197,["Viking","North Utsire","South Utsire","Forties"]],[213,["Cromarty","Forth","Tyne","Dogger"]],[224,["Fisher"]],[236,["German Bight","Humber"]],[250,["Thames","Dover","Wight","Portland","Plymouth"]],[265,["Biscay"]],[273,["Trafalgar"]],[290,["Fitzroy"]],[296,["Sole","Lundy","Fastnet","Irish Sea","Shannon"]],[309,["Rockall"]],[318,["Malin"]],[330,["Hebrides","Bailey"]],[342,["Fair Isle","Faeroes"]],[353,["South East Iceland"]]].reverse();return t.$$.update=()=>{1&t.$$.dirty&&console.log(h),2&t.$$.dirty&&e(5,r=y.find((t=>t[0]<g)))},[h,g,c,l,d,r,o,s,f,p,function(t){F[t?"unshift":"push"]((()=>{h=t,e(0,h)}))},({detail:t})=>e(4,d=t),({detail:t})=>e(1,g=t),()=>h.play(),t=>e(2,c=e(3,l=t)),()=>e(3,l=!0)]}var eo=!1;return new class extends K{constructor(t){super(),J(this,t,no,Ki,o,{})}}({target:document.querySelector("#chart"),hydrate:eo})}();
//# sourceMappingURL=bundle.js.map
